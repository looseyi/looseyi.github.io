<!DOCTYPE html>















<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>3. CocoaPods å‘½ä»¤è§£æ - CLAide - Aha Edmond</title>

  
  
  <meta name="description" content="å¼•å­ åœ¨ä¸Šæ–‡ æ•´ä½“æŠŠæ¡ CocoaPods æ ¸å¿ƒç»„ä»¶ ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ pod install çš„æµç¨‹çš„ä»‹ç»ï¼Œå¼•å‡º CocoaPods çš„å„ä¸ªæ ¸å¿ƒç»„ä»¶çš„è§’è‰²åˆ†å·¥å’Œå…¶ä¸»è¦ä½œç”¨ï¼Œå¸Œæœ›é€šè¿‡å¯¹è¿™äº›ç»„ä»¶çš„ä½¿ç”¨å’Œä»‹ç»æ¥å¸®åŠ©" />
  <meta name="author" content="åœŸåœŸEdmondæœ¨" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://looseyi.github.io/app.min.css" />

  

  
  <link rel="preload" as="image" href="https://looseyi.github.io/theme.png" />

  
  <link rel="preload" as="image" href="https://looseyi.github.io/twitter.svg" />
  
  <link rel="preload" as="image" href="https://looseyi.github.io/github.svg" />
  

  
  <link rel="icon" href="https://looseyi.github.io/favicon.ico" />
  <link rel="apple-touch-icon" href="https://looseyi.github.io/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.82.1" />

  
  
  <link
    rel="alternate"
    type="application/rss&#43;xml"
    href="https://looseyi.github.io/post/sourcecode-cocoapods/03-cocoapods-claide/index.xml"
    title="Aha Edmond"
  />
  

  
  
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-62789092-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
  
  <meta property="og:title" content="3. CocoaPods å‘½ä»¤è§£æ - CLAide" />
<meta property="og:description" content="å¼•å­ åœ¨ä¸Šæ–‡ æ•´ä½“æŠŠæ¡ CocoaPods æ ¸å¿ƒç»„ä»¶ ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ pod install çš„æµç¨‹çš„ä»‹ç»ï¼Œå¼•å‡º CocoaPods çš„å„ä¸ªæ ¸å¿ƒç»„ä»¶çš„è§’è‰²åˆ†å·¥å’Œå…¶ä¸»è¦ä½œç”¨ï¼Œå¸Œæœ›é€šè¿‡å¯¹è¿™äº›ç»„ä»¶çš„ä½¿ç”¨å’Œä»‹ç»æ¥å¸®åŠ©" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://looseyi.github.io/post/sourcecode-cocoapods/03-cocoapods-claide/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-09-02T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2020-09-02T00:00:00&#43;00:00" />


  
  <meta itemprop="name" content="3. CocoaPods å‘½ä»¤è§£æ - CLAide">
<meta itemprop="description" content="å¼•å­ åœ¨ä¸Šæ–‡ æ•´ä½“æŠŠæ¡ CocoaPods æ ¸å¿ƒç»„ä»¶ ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ pod install çš„æµç¨‹çš„ä»‹ç»ï¼Œå¼•å‡º CocoaPods çš„å„ä¸ªæ ¸å¿ƒç»„ä»¶çš„è§’è‰²åˆ†å·¥å’Œå…¶ä¸»è¦ä½œç”¨ï¼Œå¸Œæœ›é€šè¿‡å¯¹è¿™äº›ç»„ä»¶çš„ä½¿ç”¨å’Œä»‹ç»æ¥å¸®åŠ©"><meta itemprop="datePublished" content="2020-09-02T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-09-02T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6069">
<meta itemprop="keywords" content="CocoaPods,iOS,Ruby," />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="3. CocoaPods å‘½ä»¤è§£æ - CLAide"/>
<meta name="twitter:description" content="å¼•å­ åœ¨ä¸Šæ–‡ æ•´ä½“æŠŠæ¡ CocoaPods æ ¸å¿ƒç»„ä»¶ ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ pod install çš„æµç¨‹çš„ä»‹ç»ï¼Œå¼•å‡º CocoaPods çš„å„ä¸ªæ ¸å¿ƒç»„ä»¶çš„è§’è‰²åˆ†å·¥å’Œå…¶ä¸»è¦ä½œç”¨ï¼Œå¸Œæœ›é€šè¿‡å¯¹è¿™äº›ç»„ä»¶çš„ä½¿ç”¨å’Œä»‹ç»æ¥å¸®åŠ©"/>

  
  
</head>


  <body class="not-ready" data-menu="true">
    <header class="header">
  
  <p class="logo">
    <a class="site-name" href="https://looseyi.github.io/">Aha Edmond</a><a class="btn-dark"></a>
  </p>
  

  <script>
    let bodyClx = document.body.classList;
    let btnDark = document.querySelector('.btn-dark');
    let sysDark = window.matchMedia('(prefers-color-scheme: dark)');
    let darkVal = localStorage.getItem('dark');

    let setDark = (isDark) => {
      bodyClx[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark ? 'yes' : 'no');
    };

    setDark(darkVal ? darkVal === 'yes' : sysDark.matches);
    requestAnimationFrame(() => bodyClx.remove('not-ready'));

    btnDark.addEventListener('click', () => setDark(!bodyClx.contains('dark')));
    sysDark.addEventListener('change', (event) => setDark(event.matches));
  </script>

  
  
  <nav class="menu">
    
    <a class="" href="/">Home</a>
    
  </nav>
  

  
  <nav class="social">
    
    <a
      class="twitter"
      style="--url: url(./twitter.svg)"
      href="https://twitter.com/looseyi"
      target="_blank"
    ></a>
    
    <a
      class="github"
      style="--url: url(./github.svg)"
      href="https://github.com/looseyi"
      target="_blank"
    ></a>
    
  </nav>
  
</header>


    <main class="main">
			

<article class="post-single">
  <header class="post-title">
    <p>
      <time>2020-09-02</time>
      
      <span>åœŸåœŸEdmondæœ¨</span>
      
    </p>
    <h1>3. CocoaPods å‘½ä»¤è§£æ - CLAide</h1>
  </header>
  <section class="post-content"><h1 id="å¼•å­">å¼•å­</h1>
<p>åœ¨ä¸Šæ–‡ <a href="https://juejin.im/post/6861792671489327111">æ•´ä½“æŠŠæ¡ CocoaPods æ ¸å¿ƒç»„ä»¶</a> ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ <code>pod install</code> çš„æµç¨‹çš„ä»‹ç»ï¼Œå¼•å‡º CocoaPods çš„å„ä¸ªæ ¸å¿ƒç»„ä»¶çš„è§’è‰²åˆ†å·¥å’Œå…¶ä¸»è¦ä½œç”¨ï¼Œå¸Œæœ›é€šè¿‡å¯¹è¿™äº›ç»„ä»¶çš„ä½¿ç”¨å’Œä»‹ç»æ¥å¸®åŠ©å¤§å®¶æ›´å¥½çš„äº†è§£ CocoaPods çš„å®Œæ•´å·¥ä½œæµä»¥åŠèƒŒåçš„åŸç†ã€‚
ä»Šå¤©æˆ‘ä»¬ä¸»è¦èŠä¸€èŠä¸º CocoaPods æä¾›çš„å‘½ä»¤è¡Œè§£æçš„å·¥å…· <code>CLAide</code>ï¼Œå®ƒæ˜¯å¦‚ä½•æ¥è§£æ pod å‘½ä»¤ä»¥åŠ CocoaPods çš„æ’ä»¶æœºåˆ¶ã€‚</p>
<h1 id="open-class">Open Class</h1>
<p>å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸ª Ruby çš„è¯­è¨€ç‰¹æ€§ï¼š<a href="http://rubylearning.com/satishtalim/ruby_open_classes.html">Open Classes</a>
åœ¨ Ruby ä¸­ï¼Œç±»æ°¸è¿œæ˜¯å¼€æ”¾çš„ï¼Œä½ æ€»æ˜¯å¯ä»¥å°†æ–°çš„æ–¹æ³•åŠ å…¥åˆ°å·²æœ‰çš„ç±»ä¸­ï¼Œé™¤äº†åœ¨ä½ è‡ªå·±çš„ä»£ç ä¸­ï¼Œè¿˜å¯ä»¥ç”¨åœ¨æ ‡å‡†åº“å’Œå†…ç½®ç±»ä¸­ï¼Œè¿™ä¸ªç‰¹æ€§è¢«ç§°ä¸º <code>Open Classes</code>ã€‚è¯´åˆ°è¿™é‡Œä½œä¸º iOS å·¥ç¨‹å¸ˆï¼Œè„‘ä¸­åŸºæœ¬èƒ½é—ªç°å‡º Objective-C çš„ <a href="https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/Category.html"><strong>Category</strong></a> æˆ–è€… Swift çš„ <a href="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html"><strong>Extensions</strong></a> ç‰¹æ€§ã€‚ä¸è¿‡ï¼Œè¿™ç§åŠ¨æ€æ›¿æ¢æ–¹æ³•çš„åŠŸèƒ½ä¹Ÿç§°ä½œ Monkeypatchã€‚(ğŸ’  åˆ°åº•æ‹›è°æƒ¹è°äº†ï¼‰
ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨ <code>Monkey.rb</code> æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰ç±» <code>Monkey</code> æ¥ç®€å•çœ‹ä¸€ä¸‹è¯¥ç‰¹æ€§ï¼Œ</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">class</span> <span style="color:#268bd2">Monkey</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">eat</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>    <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#34;i have banana&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>monkey <span style="color:#719e07">=</span> <span style="color:#cb4b16">Monkey</span><span style="color:#719e07">.</span>new
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span style="color:#719e07">class</span> <span style="color:#268bd2">Monkey</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">eat</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>    <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#34;I have apple&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>monkey<span style="color:#719e07">.</span>eat
</code></pre></div><p>ç›´æ¥åœ¨ VSCode ä¸­è¿è¡Œï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">[</span>Running<span style="color:#719e07">]</span> ruby <span style="color:#2aa198">&#34;/Users/edmond/Desktop/Monkey.rb&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>I have apple
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>Monkey</code> ç±»çš„å®ä¾‹è¾“å‡ºå·²ç»æ”¹ä¸º <code>I have apple</code>ã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„ï¼Œå³ä½¿æ˜¯å·²ç»åˆ›å»ºå¥½çš„å®ä¾‹ï¼Œæ–¹æ³•æ›¿æ¢åŒæ ·æ˜¯ç”Ÿæ•ˆçš„ã€‚
å¦å¤– âš ï¸ <code>Open Class</code> å¯ä»¥è·¨æ–‡ä»¶ã€è·¨æ¨¡å—è¿›è¡Œè®¿é—®çš„ï¼Œç”šè‡³å¯¹ Ruby å†…ç½®æ–¹æ³•çš„ä¹ŸåŒæ ·é€‚ç”¨ (è°¨æ…)ã€‚</p>
</blockquote>
<p>è¿™å¼ºå¤§çš„åŠŸèƒ½è®©æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„å¯¹ä¸‰æ–¹æ¨¡å—è¿›è¡Œæ‰©å±•ï¼Œè¿™ä¹Ÿæ˜¯ CocoaPods çš„æ’ä»¶ä½“ç³»æ‰€ä¾èµ–çš„åŸºç¡€ã€‚
ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ <em>CocoaPods</em> ä¸»ä»“åº“ <code>cocoapods/downloader.rb</code> ä¸­å®šä¹‰äº†ä¸€äº› download æ–¹æ³•ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">module</span> Pod
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#719e07">module</span> Downloader
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#719e07">end</span>
</code></pre></div><p>ä½†æ˜¯åœ¨ <em><a href="https://github.com/CocoaPods/cocoapods-downloader">cocoapods-downloader</a></em> æ¨¡å—ä¸­ï¼Œmodule <code>Downloader</code> çš„æ–¹æ³•å¹¶ä¸èƒ½æ»¡è¶³å…¨éƒ¨éœ€æ±‚ï¼Œäºæ˜¯åœ¨ <code>cocoapods-downloader/api.rbapi.rb</code> ä¸­å°±å¯¹å…¶è¿›è¡Œäº†æ‰©å±•ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">module</span> Pod
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#719e07">module</span> Downloader
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    <span style="color:#719e07">module</span> API
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>      <span style="color:#719e07">def</span> <span style="color:#268bd2">execute_command</span>(executable, command, raise_on_failure <span style="color:#719e07">=</span> <span style="color:#719e07">false</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>        <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>      <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>      <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span><span style="color:#719e07">end</span>
</code></pre></div><h1 id="claide">CLAide</h1>
<p><a href="https://github.com/CocoaPods/CLAide">CLAide</a> è™½ç„¶æ˜¯ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œè§£é‡Šå™¨ï¼Œä½†å®ƒæä¾›äº†åŠŸèƒ½é½å…¨çš„å‘½ä»¤è¡Œç•Œé¢å’Œ APIã€‚å®ƒä¸ä»…è´Ÿè´£è§£ææˆ‘ä»¬ä½¿ç”¨åˆ°çš„ <code>Pods</code> å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š<code>pod install</code>, <code>pod update</code> ç­‰ï¼Œè¿˜å¯ç”¨äºå°è£…å¸¸ç”¨çš„ä¸€äº›è„šæœ¬ï¼Œå°†å…¶æ‰“åŒ…æˆç®€å•çš„å‘½ä»¤è¡Œå°å·¥å…·ã€‚</p>
<blockquote>
<p>å¤‡æ³¨ï¼šæ‰€è°“å‘½ä»¤è¡Œè§£é‡Šå™¨å°±æ˜¯ä»æ ‡å‡†è¾“å…¥æˆ–è€…æ–‡ä»¶ä¸­è¯»å–å‘½ä»¤å¹¶æ‰§è¡Œçš„ç¨‹åºã€‚è¯¦è§ <a href="https://www.wikiwand.com/en/Command-line_argument_parsing">Wiki</a>ã€‚</p>
</blockquote>
<h2 id="claide-åŠŸèƒ½æ¦‚è§ˆ">CLAide åŠŸèƒ½æ¦‚è§ˆ</h2>
<p>æˆ‘ä»¬å…ˆé€šè¿‡ <code>pod --help</code> æ¥æŸ¥çœ‹ <code>CLAide</code> çš„çœŸå®è¾“å‡ºæ•ˆæœï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>$ pod
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span style="color:#2aa198">Usage</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>  $ pod <span style="color:#cb4b16">COMMAND</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    <span style="color:#cb4b16">CocoaPods</span>, the <span style="color:#cb4b16">Cocoa</span> library package manager<span style="color:#719e07">.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span style="color:#2aa198">Commands</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>  <span style="color:#719e07">+</span> cache               <span style="color:#cb4b16">Manipulate</span> the <span style="color:#cb4b16">CocoaPods</span> cache
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>  <span style="color:#719e07">+</span> deintegrate         <span style="color:#cb4b16">Deintegrate</span> <span style="color:#cb4b16">CocoaPods</span> from your project
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>  <span style="color:#719e07">+</span> env                 <span style="color:#cb4b16">Display</span> pod environment
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>  <span style="color:#719e07">+</span> init                <span style="color:#cb4b16">Generate</span> a <span style="color:#cb4b16">Podfile</span> <span style="color:#719e07">for</span> the current directory
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>  <span style="color:#719e07">...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span style="color:#2aa198">Options</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>  <span style="color:#719e07">--</span>allow<span style="color:#719e07">-</span>root          <span style="color:#cb4b16">Allows</span> <span style="color:#cb4b16">CocoaPods</span> to run as root
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>  <span style="color:#719e07">--</span>silent              <span style="color:#cb4b16">Show</span> nothing
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>  <span style="color:#719e07">--</span>version             <span style="color:#cb4b16">Show</span> the version of the tool
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>  <span style="color:#719e07">...</span>
</code></pre></div><p>ğŸ‘†æ‰€å±•ç¤ºçš„ <code>Usage</code>ã€<code>Commands</code>ã€<code>Options</code> section åŠå…¶å†…å®¹å‡æ˜¯ç”± <code>CALide</code> çš„è¾“å‡ºæ¨¡ç‰ˆ <strong>Banner</strong> æ¥å®Œæˆçš„ã€‚<code>CALide</code> æä¾›äº† Command åŸºç±»å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä¹‰å‡ºæ ‡å‡†ä¸”ç¾è§‚çš„å‘½ä»¤ã€‚é™¤äº† <code>pod</code> å‘½ä»¤ä¹‹å¤–ï¼Œä¾‹å¦‚ï¼š<a href="https://github.com/CocoaPods/Xcodeproj">Xcodeproj</a> æ‰€æä¾›çš„å‘½ä»¤ä¹Ÿæ˜¯ç”± <code>CALide</code> æ¥å®ç°çš„ã€‚
<code>CALide</code> è¿˜æä¾›äº†ä¸€å¥—æ’ä»¶åŠ è½½æœºåˆ¶åœ¨å‘½ä»¤æ‰§è¡Œå‰è·å–æ‰€æœ‰æ’ä»¶ä¸­çš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š<code>cocoapods-packeger</code> æä¾›çš„ <code>pod package NAME [SOURCE]</code> å°±æ˜¯ä»å…¶ source code ä¸­çš„ <code>lib/pod/commnad/package.rb</code> è¯»å–å‡ºæ¥çš„ï¼Œå®ƒä»¤æˆ‘ä»¬ä»…éœ€ä¸€ä»½ <code>podspec</code> ä¿¡æ¯ï¼Œå³å¯å®Œæˆ Cocoa ä¾èµ–åº“çš„ ğŸ“¦ã€‚</p>
<h2 id="calide-çš„ç›®å½•ç»“æ„">CALide çš„ç›®å½•ç»“æ„</h2>
<blockquote>
<p>å¯¹äº Ruby çš„é¡¹ç›®ç»“æ„ï¼Œåœ¨ Rubygems.org ä¸­æœ‰ <a href="https://guides.rubygems.org/make-your-own-gem/">æ–‡ä»¶ç»“æ„æ‰‹å†Œ</a> è¿™ä¸ªæ ‡å‡†ä¾›å¤§å®¶å‚è€ƒå­¦ä¹ ã€‚</p>
</blockquote>
<p>é¦–å…ˆæ¥çœ‹ CALide é¡¹ç›®çš„æ–‡ä»¶å…¥å£ lib/calide.rb ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">module</span> CLAide
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#cb4b16">VERSION</span> <span style="color:#719e07">=</span> <span style="color:#2aa198">&#39;1.0.3&#39;</span><span style="color:#719e07">.</span>freeze
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;claide/ansi&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;claide/argument&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;claide/argv&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;claide/command&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;claide/help&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;claide/informative_error&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span><span style="color:#719e07">end</span>
</code></pre></div><p>æˆ‘ä»¬æ¥ä¸‹æ¥åˆ†æä¸€ä¸‹ <code>lib/cladie/</code> ç›®å½•ä¸‹çš„ç›¸å…³ä»£ç ã€‚</p>
<h2 id="command-æŠ½è±¡ç±»">Command æŠ½è±¡ç±»</h2>
<p><code>Command</code> æ˜¯ç”¨äºæ„å»ºå‘½ä»¤è¡Œç•Œé¢çš„åŸºç¡€æŠ½è±¡ç±»ã€‚æ‰€æœ‰æˆ‘ä»¬æ·»åŠ çš„å‘½ä»¤éƒ½éœ€è¦ç»§æ‰¿è‡ª <code>Command</code>ï¼Œè¿™äº›å­ç±»å¯ä»¥åµŒå¥—ç»„åˆæˆæ›´åŠ ç²¾ç»†çš„å‘½ä»¤ã€‚
<code>pod</code> å‘½ä»¤æ­£æ˜¯ç”±å¤šä¸ª <code>Pod::Command &lt; CLAide::Command</code> çš„å­ç±»ç»„åˆè€Œæˆçš„ <code>abstract command</code>ã€‚å½“ç„¶ <code>pod</code> çš„ subcommand åŒæ ·ä¹Ÿèƒ½å£°æ˜ä¸º <code>abstact command</code>ï¼Œé€šè¿‡è¿™æ ·çš„æ–¹å¼æˆ‘ä»¬å°±èƒ½è¾¾åˆ°å¤šçº§åµŒå¥—å‘½ä»¤çš„æ•ˆæœã€‚æœ‰æŠ½è±¡å‘½ä»¤å½“ç„¶ä¹Ÿéœ€è¦æœ‰å…·ä½“æ‰§è¡Œä»»åŠ¡çš„ <code>normal command</code>ã€‚
ä¸¾ä¸ªä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>$ pod update <span style="color:#719e07">--</span>help
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>Usage:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>  $ pod update [POD_NAMES <span style="color:#719e07">...</span>]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>    Updates the Pods identified by the specified `POD_NAMES`
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>Options:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>  <span style="color:#719e07">--</span>verbose                              Show more debugging information
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>  <span style="color:#719e07">--</span>no<span style="color:#719e07">-</span>ansi                              Show output without ANSI codes
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span>  <span style="color:#719e07">--</span>help                                 Show help banner of specified command
</code></pre></div><p>å¯¹åº”çš„ï¼Œ <code>pod update</code>Â è¿™ä¸ªå‘½ä»¤çš„é€»è¾‘åœ¨ <code>CLAide</code> ä¸­å°±æ˜¯å¦‚ä¸‹æè¿°ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">module</span> Pod
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  <span style="color:#719e07">class</span> <span style="color:#268bd2">Command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>    <span style="color:#719e07">class</span> <span style="color:#268bd2">Update</span> <span style="color:#719e07">&lt;</span> <span style="color:#cb4b16">Command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>      <span style="color:#b58900">self</span><span style="color:#719e07">.</span>arguments <span style="color:#719e07">=</span> <span style="color:#719e07">[</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>        <span style="color:#cb4b16">CLAide</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Argument</span><span style="color:#719e07">.</span>new(<span style="color:#2aa198">&#39;POD_NAMES&#39;</span>, <span style="color:#719e07">false</span>, <span style="color:#719e07">true</span>),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>      <span style="color:#719e07">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>      
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>      <span style="color:#b58900">self</span><span style="color:#719e07">.</span>description <span style="color:#719e07">=</span> <span style="color:#2aa198">&lt;&lt;-DESC
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span style="color:#2aa198"></span>        <span style="color:#cb4b16">Updates</span> the <span style="color:#cb4b16">Pods</span> identified by the specified <span style="color:#586e75">`POD_NAMES`</span><span style="color:#719e07">.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>      <span style="color:#cb4b16">DESC</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>      
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>      <span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">options</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>        <span style="color:#719e07">[</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>          <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;--sources&#34;</span>, <span style="color:#2aa198">&#39;The sources from which to update dependent pods&#39;</span><span style="color:#719e07">]</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>          <span style="color:#719e07">[</span><span style="color:#2aa198">&#39;--exclude-pods&#39;</span>, <span style="color:#2aa198">&#39;Pods to exclude during update&#39;</span><span style="color:#719e07">]</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>          <span style="color:#719e07">[</span><span style="color:#2aa198">&#39;--clean-install&#39;</span>, <span style="color:#2aa198">&#39;Ignore the contents of the project cache and force a full pod installation&#39;</span><span style="color:#719e07">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>        <span style="color:#719e07">].</span>concat(<span style="color:#719e07">super</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>      <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span><span style="color:#719e07">end</span>
</code></pre></div><p>å½“æˆ‘ä»¬å¦‚æ­¤æè¿°åï¼ŒCLAide ä¼šå¯¹è¿™ä¸ªç±»è¿›è¡Œä»¥ä¸‹æ–¹å¼çš„è§£æï¼š</p>
<p><img src="http://cdn.nlark.com/yuque/0/2020/png/227152/1599005020049-ddaee5cf-5280-4586-b5ab-0a3587f0d245.png?x-oss-process=image%2Fresize%2Cw_746" alt="pod update"></p>
<p>æ­¤å¤–ï¼Œ<code>Command</code> class æä¾›äº†å¤§é‡åŸºç¡€åŠŸèƒ½ï¼Œå…¶ä¸­æœ€æ ¸å¿ƒçš„æ–¹æ³•ä¸º <code>run</code>ï¼Œä¼šåœ¨ <code>normal command</code> å°èŠ‚ä¼šä»‹ç»ã€‚å¯¹äºä»»ä½•å‘½ä»¤ç±»å‹éƒ½å¯ä»¥è®¾ç½®ä»¥ä¸‹å‡ ä¸ªå±æ€§å’Œæ–¹æ³•ï¼š</p>
<ul>
<li><strong>summary</strong>: ç”¨äºç®€å•æè¿°è¯¥å‘½ä»¤çš„ä½œç”¨</li>
<li><strong>options</strong>: ç”¨äºè¿”å›è¯¥å‘½ä»¤çš„å¯é€‰é¡¹åŠå¯¹åº”çš„æè¿°ï¼Œè¿”å›çš„ options éœ€è¦é€šè¿‡è°ƒç”¨ <code>super</code> æ’å…¥åˆ°çˆ¶ç±»çš„å¯é€‰é¡¹å‰</li>
<li><strong>initialize</strong>: å¦‚æœéœ€è¦è·å–å‘½ä»¤è¡Œä¼ é€’çš„å®å‚ï¼Œéœ€è¦é€šè¿‡é‡è½½ <code>initialize</code> æ–¹æ³•æ¥è·å–</li>
<li><strong>validate!</strong>: ç”¨äºæ£€æŸ¥è¾“å…¥å®å‚çš„æœ‰æ•ˆæ€§ï¼Œå¦‚æœæ ¡éªŒå¤±è´¥ï¼Œä¼šé€šè¿‡è°ƒç”¨ <code>help!</code> æ–¹æ³•æ¥è¾“å‡ºå¸®åŠ©ä¿¡æ¯</li>
<li><strong>help!</strong>ï¼šç”¨äºé”™è¯¯ä¿¡æ¯çš„å¤„ç†å’Œå±•ç¤º</li>
</ul>
<p>æ³¨æ„ âš ï¸ï¼šè¿™é‡Œæˆ‘ä»¬è¯´çš„ <strong><code>abstract command</code> å’Œ <code>normal command</code> å‡æ˜¯é€šè¿‡ <code>Command</code> æ¥å®ç°çš„</strong>ï¼Œåªæ˜¯å®ƒä»¬çš„é…ç½®ä¸åŒã€‚</p>
<h3 id="abstract-command">Abstract Command</h3>
<p><code>abstract command</code> ä¸ºä¸æä¾›å…·ä½“å‘½ä»¤å®ç°çš„æŠ½è±¡å®¹å™¨å‘½ä»¤ç±»ï¼Œä¸è¿‡å®ƒå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçš„ subcommandsã€‚æˆ‘ä»¬å¯ä»¥æŒ‡å®š subcommands ä¸­çš„ <code>normal command</code> ä¸ºé»˜è®¤å‘½ä»¤ï¼Œå°±èƒ½å°† <code>abstract command</code> ä½œä¸ºä½œä¸ºæ™®é€šå‘½ä»¤ç›´æ¥æ‰§è¡Œäº†ã€‚
æŠ½è±¡å‘½ä»¤çš„ç°å®æ¯”è¾ƒç®€å•ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#b58900">self</span><span style="color:#719e07">.</span>abstract_command <span style="color:#719e07">=</span> <span style="color:#719e07">true</span>
</code></pre></div><p>ä»…éœ€è®¾ç½® <code>abstract_command</code>ï¼Œç„¶åå°±å¯ä»¥ç»§æ‰¿å®ƒæ¥å®ç°æ™®é€šå‘½ä»¤æˆ–è€…å¤šçº§åµŒå¥—çš„æŠ½è±¡å‘½ä»¤ã€‚
ä»¥ <code>pod</code> å‘½ä»¤çš„å®ç°ä¸ºä¾‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">module</span> Pod
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#719e07">class</span> <span style="color:#268bd2">Command</span> <span style="color:#719e07">&lt;</span> <span style="color:#cb4b16">CLAide</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;cocoapods/command/install&#39;</span> <span style="color:#586e75"># 1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>    <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;cocoapods/command/update&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>    <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>    <span style="color:#b58900">self</span><span style="color:#719e07">.</span>abstract_command <span style="color:#719e07">=</span> <span style="color:#719e07">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>    <span style="color:#b58900">self</span><span style="color:#719e07">.</span>command <span style="color:#719e07">=</span> <span style="color:#2aa198">&#39;pod&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>    <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span><span style="color:#719e07">end</span>
</code></pre></div><p>ä¸Šè¿°é€šè¿‡ <strong>require</strong> å¼•å…¥çš„ <code>update</code>ã€<code>install</code> ç­‰å­å‘½ä»¤éƒ½æ˜¯ç»§æ‰¿è‡ª <code>Pod::Command</code> çš„ <code>normal command</code>ã€‚
<img src="http://cdn.nlark.com/yuque/0/2020/jpeg/98641/1598855030376-84980ad9-7ff0-4c97-bee8-266bc77772e9.jpeg?x-oss-process=image%2Fresize%2Cw_746" alt=""></p>
<h3 id="normal-command">Normal Command</h3>
<p>ç›¸å¯¹äºæŠ½è±¡å‘½ä»¤ï¼Œæ™®é€šå‘½ä»¤å°±éœ€è¦è®¾ç½®ä¼ é€’å®å‚çš„åç§°å’Œæè¿°ï¼Œä»¥åŠé‡è½½ <code>run</code> æ–¹æ³•ã€‚
<strong>Arguments</strong>
<code>arguments</code> ç”¨äºé…ç½®è¯¥å‘½ä»¤æ”¯æŒçš„å‚æ•°åˆ—è¡¨çš„ banner è¾“å‡ºï¼Œç±»å‹ä¸º <code>Array&lt;Argument&gt;]</code>ï¼Œå®ƒæœ€ç»ˆä¼šæ ¼å¼åŒ–æˆå¯¹åº”çš„ä¿¡æ¯å±•ç¤ºåœ¨ <code>Usage</code> banner ä¸­ã€‚
æˆ‘ä»¬æ¥çœ‹ <code>pod update</code> çš„ <code>arguments</code> æ˜¯å¦‚ä½•é…ç½®çš„ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#b58900">self</span><span style="color:#719e07">.</span>arguments <span style="color:#719e07">=</span> <span style="color:#719e07">[</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#cb4b16">CLAide</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Argument</span><span style="color:#719e07">.</span>new(<span style="color:#2aa198">&#39;POD_NAMES&#39;</span>, <span style="color:#719e07">false</span>, <span style="color:#719e07">true</span>),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#719e07">]</span>
</code></pre></div><p>å…¶ä¸­ <code>Argument</code> çš„æ„é€ æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">module</span> CLAide
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#719e07">class</span> <span style="color:#268bd2">Argument</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>   
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>    <span style="color:#719e07">def</span> <span style="color:#268bd2">initialize</span>(names, required, repeatable <span style="color:#719e07">=</span> <span style="color:#719e07">false</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>      @names <span style="color:#719e07">=</span> <span style="color:#b58900">Array</span>(names)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>      @required <span style="color:#719e07">=</span> required
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>      @repeatable <span style="color:#719e07">=</span> repeatable
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span><span style="color:#719e07">end</span>
</code></pre></div><p>è¿™é‡Œä¼ å…¥çš„ names å°±æ˜¯åœ¨ <code>Usage</code> banner ä¸­è¾“å‡ºçš„ <code>[POD_NAMES ...]</code> ã€‚
<strong>require</strong> è¡¨ç¤ºè¯¥ Argument æ˜¯å¦ä¸ºå¿…ä¼ å‚æ•°ï¼Œå¯é€‰å‚æ•°ä¼šç”¨ <code>[ ]</code> å°†å…¶åŒ…è£¹èµ·æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ <code>pod update</code> å‘½ä»¤é»˜è®¤æ˜¯ä¸éœ€è¦ä¼  <code>POD_NAMES</code>
<strong>repeatable</strong> è¡¨ç¤ºè¯¥ Argument æ˜¯å¦å¯ä»¥é‡å¤å¤šæ¬¡å‡ºç°ã€‚å¦‚æœè®¾ç½®ä¸ºå¯é‡å¤ï¼Œé‚£ä¹ˆä¼šåœ¨ names çš„è¾“å‡ºä¿¡æ¯åé¢ä¼šæ·»åŠ  <code>...</code> è¡¨ç¤ºè¯¥å‚æ•°ä¸ºå¤æ•°å‚æ•°ã€‚
ä¸¾ä¸ªä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>$ pod update Alamofire, SwiftyJSON
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥æŒ‡å®š <code>pod update</code> ä»…æ›´æ–°ç‰¹å®šçš„ä¾èµ–åº“ï¼Œå¦‚æœä¸ä¼  <code>POD_NAMES</code> å°†è¿›è¡Œå…¨é‡æ›´æ–°ã€‚</p>
<h3 id="run-æ–¹æ³•">Run æ–¹æ³•</h3>
<p>åœ¨ <code>Command</code> ç±»ä¸­å®šä¹‰äº†ä¸¤ä¸ª <code>run</code> æ–¹æ³•ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">run</span>(argv <span style="color:#719e07">=</span> <span style="color:#719e07">[]</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  <span style="color:#586e75"># æ ¹æ®æ–‡ä»¶å‰ç¼€æ¥åŒ¹é…å¯¹åº”çš„æ’ä»¶</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>  plugin_prefixes<span style="color:#719e07">.</span>each <span style="color:#719e07">do</span> <span style="color:#719e07">|</span>plugin_prefix<span style="color:#719e07">|</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    <span style="color:#cb4b16">PluginManager</span><span style="color:#719e07">.</span>load_plugins(plugin_prefix)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>  argv <span style="color:#719e07">=</span> <span style="color:#cb4b16">ARGV</span><span style="color:#719e07">.</span>coerce(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>  <span style="color:#586e75"># è§£æ argument ç”Ÿæˆå¯¹åº”çš„ command instance</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>  command <span style="color:#719e07">=</span> parse(argv) 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>  <span style="color:#cb4b16">ANSI</span><span style="color:#719e07">.</span>disabled <span style="color:#719e07">=</span> <span style="color:#719e07">!</span>command<span style="color:#719e07">.</span>ansi_output?
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>  <span style="color:#719e07">unless</span> command<span style="color:#719e07">.</span>handle_root_options(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>    command<span style="color:#719e07">.</span>validate!
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    command<span style="color:#719e07">.</span>run
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span style="color:#719e07">rescue</span> <span style="color:#cb4b16">Object</span> <span style="color:#719e07">=&gt;</span> exception
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>  handle_exception(command, exception)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span><span style="color:#719e07">def</span> <span style="color:#268bd2">run</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>  <span style="color:#719e07">raise</span> <span style="color:#2aa198">&#39;A subclass should override the `CLAide::Command#run` method to &#39;</span> \
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>  <span style="color:#2aa198">&#39;actually perform some work.&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span><span style="color:#719e07">end</span>
</code></pre></div><p>è¿™é‡Œçš„ <code>self.run</code> æ–¹æ³•æ˜¯ class methodï¼Œè€Œ <code>run</code> æ˜¯ instanced methodã€‚å¯¹äº <code>Ruby</code> ä¸å¤ªç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥çœ‹çœ‹è¿™ä¸ªï¼š<a href="https://stackoverflow.com/questions/13706373/what-does-def-self-function-name-mean">What does def <code>self.function</code> name mean?</a>
ä½œä¸º <code>Command</code> ç±»çš„æ ¸å¿ƒæ–¹æ³•ï¼Œç±»æ–¹æ³• <code>self.run</code> å°†ç»ˆç«¯ä¼ å…¥çš„å‚æ•°è§£ææˆå¯¹åº”çš„ <strong>command</strong> å’Œ <strong>argv</strong>ï¼Œå¹¶æœ€ç»ˆè°ƒç”¨ command çš„å®ä¾‹æ–¹æ³• <code>run</code> æ¥è§¦å‘çœŸæ­£çš„å‘½ä»¤é€»è¾‘ã€‚å› æ­¤ï¼Œå­ç±»éœ€è¦é€šè¿‡é‡è½½ <code>run</code> æ–¹æ³•æ¥å®Œæˆå¯¹åº”å‘½ä»¤çš„å®ç°ã€‚
é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ–¹æ³• <code>Command::parse</code> æ˜¯å¦‚ä½•å°† <code>run</code> çš„ç±»æ–¹æ³•è½¬æ¢ä¸ºå®ä¾‹æ–¹æ³•çš„å‘¢ï¼Ÿ</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">parse</span>(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  <span style="color:#586e75"># é€šè¿‡è§£æ argv è·å–åˆ°ä¸ cmd åç§°</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>  argv <span style="color:#719e07">=</span> <span style="color:#cb4b16">ARGV</span><span style="color:#719e07">.</span>coerce(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>  cmd <span style="color:#719e07">=</span> argv<span style="color:#719e07">.</span>arguments<span style="color:#719e07">.</span>first
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  <span style="color:#586e75"># å¦‚æœ cmd å¯¹åº”çš„ Command ç±»ï¼Œåˆ™æ›´æ–° argvï¼Œç»§ç»­è§£æå‘½ä»¤</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>  <span style="color:#719e07">if</span> cmd <span style="color:#719e07">&amp;&amp;</span> subcommand <span style="color:#719e07">=</span> find_subcommand(cmd)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>    argv<span style="color:#719e07">.</span>shift_argument
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>    subcommand<span style="color:#719e07">.</span>parse(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>  <span style="color:#586e75"># å¦‚æœ cmd ä¸ºæŠ½è±¡å‘½ä»¤ä¸”æŒ‡å®šäº†é»˜è®¤å‘½ä»¤ï¼Œåˆ™è¿”å›é»˜è®¤å‘½ä»¤ç»§ç»­è§£æå‚æ•°</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>  <span style="color:#719e07">elsif</span> abstract_command? <span style="color:#719e07">&amp;&amp;</span> default_subcommand
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>    load_default_subcommand(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>  <span style="color:#719e07">else</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    <span style="color:#586e75"># åˆå§‹åŒ–çœŸæ­£çš„ cmd å®ä¾‹</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>    <span style="color:#719e07">new</span>(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span style="color:#719e07">end</span>
</code></pre></div><p>å¯ä»¥è¯´ï¼Œ<code>CLAide</code> çš„å‘½ä»¤è§£æå°±æ˜¯ä¸€ä¸ª<strong>å¤šå‰æ ‘éå†</strong>ï¼Œé€šè¿‡åˆ†å‰²å‚æ•°åŠéå† <code>CLAide::Command</code> çš„å­ç±»ï¼Œæœ€ç»ˆæ‰¾åˆ°ç”¨æˆ·è¾“å…¥çš„ <code>normal command</code> å¹¶åˆå§‹åŒ–è¿”å›ã€‚<img src="http://cdn.nlark.com/yuque/0/2020/png/227152/1599006816575-464e442d-5b43-475f-bc5f-4b086c59190c.png?x-oss-process=image%2Fresize%2Cw_746" alt=""></p>
<p>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹å°±æ˜¯ï¼Œ<code>CLAide::Command</code> æ˜¯å¦‚ä½•çŸ¥é“æœ‰å“ªäº›å­ç±»é›†æˆå®ƒçš„å‘¢ï¼Ÿ</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">inherited</span>(subcommand)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  subcommands <span style="color:#719e07">&lt;&lt;</span> subcommand
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#719e07">end</span>
</code></pre></div><p><strong>è¿™é‡Œåˆ©ç”¨äº† <code>Ruby</code> æä¾›çš„ <em>Hook Method</em> <code>self.inherited</code> æ¥è·å–å®ƒæ‰€ç»§æ‰¿çš„å­ç±»ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ <code>subcommands</code>ã€‚</strong>
å¦å¤–ï¼Œè¿™é‡Œåœ¨çœŸæ­£æ‰§è¡Œ <code>self.run</code> æ–¹æ³•ä¹‹å‰ä¼šéå†å½“å‰é¡¹ç›®æ‰€å¼•å…¥çš„ Gems åŒ…ä¸­çš„æŒ‡å®šç›®å½•ä¸‹çš„å‘½ä»¤æ’ä»¶æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œæ’ä»¶åŠ è½½ï¼Œå…·ä½“å†…å®¹å°†åœ¨ <code>PluginManager</code> ä¸­å±•å¼€ã€‚</p>
<h3 id="argv-ä¼ å…¥å‚æ•°">ARGV ä¼ å…¥å‚æ•°</h3>
<p><code>CLAide</code> æä¾›äº†ä¸“é—¨çš„ç±» <code>ARGV</code> ç”¨äºè§£æå‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°ã€‚ä¸»è¦åŠŸèƒ½æ˜¯å¯¹ <code>Parse</code> è§£æåçš„ tuple åˆ—è¡¨è¿›è¡Œå„ç§è¿‡æ»¤ã€CURD ç­‰æ“ä½œã€‚
æŒ‰ç…§ <code>CALide</code> çš„å®šä¹‰å‚æ•°åˆ†ä¸‰ç§ç±»å‹ï¼š</p>
<ul>
<li><code>arg</code>: æ™®é€šçš„å®å‚ï¼Œæ‰€è°“çš„å®å‚å°±æ˜¯ç›´æ¥è·Ÿåœ¨å‘½ä»¤åé¢çš„ï¼Œä¸”ä¸å¸¦ä»»ä½• <code>--</code> ä¿®é¥°çš„å­—ç¬¦</li>
<li><code>flag</code>: ç®€å•ç†è§£ <code>flag</code> å°±æ˜¯é™å®šä¸º bool å˜é‡çš„ <code>option</code> ç±»å‹å‚æ•°ï¼Œå¦‚æœ <code>flag</code> å‰é¢æ·»åŠ å¸¦ <code>--no-</code> åˆ™å€¼ä¸º falseï¼Œå¦åˆ™ä¸º true</li>
<li><code>option</code>: å¯é€‰é¡¹å‚æ•°ï¼Œä»¥ <code>--</code> ä¸ºå‰ç¼€ä¸”ä»¥ <code>=</code> ä½œä¸ºåˆ†å‰²ç¬¦æ¥åŒºåˆ† key å’Œ value</li>
</ul>
<p>è€Œåœ¨ <code>ARGV</code> å†…éƒ¨åˆæä¾›äº†ç§æœ‰å·¥å…·ç±» <code>Parser</code> æ¥è§£æç»ˆç«¯çš„è¾“å…¥ï¼Œå…¶æ ¸å¿ƒæ–¹æ³•ä¸º <code>parse</code>:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">module</span> Parser
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">parse</span>(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>    entries <span style="color:#719e07">=</span> <span style="color:#719e07">[]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    copy <span style="color:#719e07">=</span> argv<span style="color:#719e07">.</span>map(<span style="color:#719e07">&amp;</span><span style="color:#2aa198">:to_s</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>    double_dash <span style="color:#719e07">=</span> <span style="color:#719e07">false</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>    <span style="color:#719e07">while</span> argument <span style="color:#719e07">=</span> copy<span style="color:#719e07">.</span>shift
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>      <span style="color:#719e07">next</span> <span style="color:#719e07">if</span> <span style="color:#719e07">!</span>double_dash <span style="color:#719e07">&amp;&amp;</span> double_dash <span style="color:#719e07">=</span> (argument <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;--&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>      type <span style="color:#719e07">=</span> double_dash ? <span style="color:#2aa198">:arg</span> : argument_type(argument)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>      parsed_argument <span style="color:#719e07">=</span> parse_argument(type, argument)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>      entries <span style="color:#719e07">&lt;&lt;</span> <span style="color:#719e07">[</span>type, parsed_argument<span style="color:#719e07">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>    entries
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>  <span style="color:#586e75"># ,,,</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span style="color:#719e07">end</span>
</code></pre></div><p>parse çš„è¿”å›å€¼ä¸º <code>[Array&lt;Array&lt;Symbol, String, Array&gt;&gt;]</code> ç±»å‹çš„ tupleï¼Œå…¶ä¸­ tuple çš„ç¬¬ä¸€ä¸ªå˜é‡ä¸ºå®å‚çš„ç±»å‹ï¼Œç¬¬äºŒä¸ªæ‰æ˜¯å¯¹åº”çš„å®å‚ã€‚
ä¾æ—§ä»¥ <code>pod update</code> ä¸ºä¾‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>pod update Alamofire --no-repo-update --exclude-pods<span style="color:#719e07">=</span>SwiftyJSON
</code></pre></div><p><img src="http://cdn.nlark.com/yuque/0/2020/jpeg/98641/1598855030381-29d93c99-1c6c-4a40-8bf7-a40eee4140a7.jpeg?x-oss-process=image%2Fresize%2Cw_746" alt="">
è§£æåï¼Œè¾“å‡ºçš„ tuple åˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">[</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#719e07">[</span><span style="color:#2aa198">:arg</span>, <span style="color:#2aa198">&#34;Alamofire&#34;</span><span style="color:#719e07">]</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>  <span style="color:#719e07">[</span><span style="color:#2aa198">:flag</span>, <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;repo-update&#34;</span>, <span style="color:#719e07">false</span><span style="color:#719e07">]]</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>  <span style="color:#719e07">[</span><span style="color:#2aa198">:option</span>, <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;exclude-pods&#34;</span>, <span style="color:#2aa198">&#34;SwiftyJSON&#34;</span><span style="color:#719e07">]]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#719e07">]</span>
</code></pre></div><h2 id="banner-ä¸è¾“å‡ºæ ¼å¼åŒ–">Banner ä¸è¾“å‡ºæ ¼å¼åŒ–</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥èŠèŠ <code>CLAide</code> æä¾›çš„æ ¼å¼åŒ–æ•ˆæœçš„ bannerã€‚
é‚£ä»€ä¹ˆæ˜¯ banner å‘¢ï¼Ÿå›çœ‹ç¬¬ä¸€ä¸ªä¾‹å­ <code>pod --help</code> æ‰€è¾“å‡ºçš„å¸®åŠ©ä¿¡æ¯ï¼Œå®ƒåˆ†ä¸ºä¸‰ä¸ª Sectionï¼š</p>
<ul>
<li><code>Usage</code>ï¼šç”¨äºæè¯¥è¿°å‘½ä»¤çš„ç”¨æ³•</li>
<li><code>Commands</code>ï¼šç”¨äºæè¿°è¯¥å‘½ä»¤æ‰€åŒ…å«çš„å­å‘½ä»¤ï¼Œæ²¡æœ‰åˆ™ä¸æ˜¾ç¤ºã€‚åœ¨å­å‘½ä»¤å‰é¢å­˜åœ¨ä¸¤ç§ç±»å‹çš„æ ‡è¯†
<ul>
<li><code>+</code> ï¼šç”¨äºå¼ºè°ƒè¯¥ command æ˜¯å•ç‹¬æ·»åŠ çš„å­å‘½ä»¤</li>
<li><code>&gt;</code> ï¼šç”¨äºè¡¨ç¤ºæŒ‡å¼•çš„æ„æ€ï¼Œè¡¨ç¤ºè¯¥ command æ˜¯å½“å‰å‘½ä»¤çš„é»˜è®¤å®ç°</li>
</ul>
</li>
<li><code>Options</code>ï¼šç”¨äºæè¿°è¯¥å‘½ä»¤çš„å¯é€‰é¡¹</li>
</ul>
<p><strong>è¿™ä¸‰æ®µå¸®åŠ©ä¿¡æ¯å°±æ˜¯å¯¹åº”çš„ä¸åŒçš„ bannerã€‚</strong>
<code>CLAide</code> å¯¹äºè¾“å‡ºçš„ banner ä¿¡æ¯æä¾›äº† <a href="https://www.wikiwand.com/en/ANSI_escape_code">ANSI è½¬ä¹‰</a>ï¼Œç”¨äºåœ¨ä¸åŒçš„ç»ˆç«¯é‡Œæ˜¾ç¤ºå¯Œæ–‡æœ¬çš„æ•ˆæœã€‚banner çš„ä¸»è¦æ ¼å¼åŒ–æ•ˆæœå¦‚ä¸‹ï¼š</p>
<ol>
<li>å¯¹äº setcion æ ‡é¢˜ï¼š <code>Usage</code>ã€<code>Commands</code>ã€<code>Options</code> æ·»åŠ äº†ä¸‹åˆ’çº¿ä¸”åŠ ç²—å¤„ç†</li>
<li>Command é…ç½®ä¸ºç»¿è‰²</li>
<li>Options é…ç½®ä¸ºè“è‰²</li>
<li>æç¤ºè­¦å‘Šä¿¡æ¯é…ç½®ä¸ºé»„è‰²</li>
<li>é”™è¯¯ä¿¡æ¯åˆ™æ˜¯çº¢è‰²</li>
</ol>
<p>å¯¹äºè¿™äº›é…è‰²æ–¹æ¡ˆï¼Œ<code>CLAide</code> æä¾›äº† String çš„ convince method æ¥å®Œæˆ ANSI è½¬ä¹‰ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">class</span> <span style="color:#268bd2">String</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">ansi</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    <span style="color:#cb4b16">CLAide</span><span style="color:#719e07">::</span><span style="color:#cb4b16">ANSI</span><span style="color:#719e07">::</span><span style="color:#cb4b16">StringEscaper</span><span style="color:#719e07">.</span>new(<span style="color:#b58900">self</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#719e07">end</span>
</code></pre></div><p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#2aa198">&#34;example&#34;</span><span style="color:#719e07">.</span>ansi<span style="color:#719e07">.</span>yellow <span style="color:#586e75">#=&gt; &#34;\e[33mexample\e[39m&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span style="color:#2aa198">&#34;example&#34;</span><span style="color:#719e07">.</span>ansi<span style="color:#719e07">.</span>on_red <span style="color:#586e75">#=&gt; &#34;\e[41mexample\e[49m&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#2aa198">&#34;example&#34;</span><span style="color:#719e07">.</span>ansi<span style="color:#719e07">.</span>bold   <span style="color:#586e75">#=&gt; &#34;\e[1mexample\e[21m&#34;</span>
</code></pre></div><p>å¯¹äº Banner çš„ä¸€äº›é«˜äº®æ•ˆæœä¹Ÿæä¾›äº† convince methodï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">def</span> <span style="color:#268bd2">prettify_title</span>(title)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  title<span style="color:#719e07">.</span>ansi<span style="color:#719e07">.</span>underline
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span style="color:#719e07">def</span> <span style="color:#268bd2">prettify_subcommand</span>(<span style="color:#b58900">name</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>  <span style="color:#b58900">name</span><span style="color:#719e07">.</span>chomp<span style="color:#719e07">.</span>ansi<span style="color:#719e07">.</span>green
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span style="color:#719e07">def</span> <span style="color:#268bd2">prettify_option_name</span>(<span style="color:#b58900">name</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>  <span style="color:#b58900">name</span><span style="color:#719e07">.</span>chomp<span style="color:#719e07">.</span>ansi<span style="color:#719e07">.</span>blue
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span style="color:#719e07">end</span>
</code></pre></div><h2 id="pluginmanager-è½½å…¥æ’ä»¶">PluginManager è½½å…¥æ’ä»¶</h2>
<p><code>PluginManager</code> æ˜¯ Command çš„ç®¡ç†ç±»ï¼Œä¼šåœ¨ç¬¬ä¸€æ¬¡è¿è¡Œå‘½ä»¤ <code>self.run</code> æ—¶è¿›è¡ŒåŠ è½½ï¼Œä¸”ä»…åŠ è½½å‘½ä»¤ç±»ä¸­æŒ‡å®šå‰ç¼€æ ‡è¯†çš„æ–‡ä»¶ä¸‹çš„å‘½ä»¤ã€‚è®©æˆ‘ä»¬å…ˆçœ‹ <code>PluginManager.rb</code> çš„æ ¸å¿ƒå®ç°ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">load_plugins</span>(plugin_prefix)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>   loaded_plugins<span style="color:#719e07">[</span>plugin_prefix<span style="color:#719e07">]</span> <span style="color:#719e07">||=</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>   plugin_gems_for_prefix(plugin_prefix)<span style="color:#719e07">.</span>map <span style="color:#719e07">do</span> <span style="color:#719e07">|</span>spec, paths<span style="color:#719e07">|</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>     spec <span style="color:#719e07">if</span> safe_activate_and_require(spec, paths)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>   <span style="color:#719e07">end</span><span style="color:#719e07">.</span>compact
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">plugin_gems_for_prefix</span>(prefix)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>   glob <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;</span><span style="color:#2aa198">#{</span>prefix<span style="color:#2aa198">}</span><span style="color:#2aa198">_plugin</span><span style="color:#2aa198">#{</span><span style="color:#cb4b16">Gem</span><span style="color:#719e07">.</span>suffix_pattern<span style="color:#2aa198">}</span><span style="color:#2aa198">&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>   <span style="color:#cb4b16">Gem</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Specification</span><span style="color:#719e07">.</span>latest_specs(<span style="color:#719e07">true</span>)<span style="color:#719e07">.</span>map <span style="color:#719e07">do</span> <span style="color:#719e07">|</span>spec<span style="color:#719e07">|</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>      matches <span style="color:#719e07">=</span> spec<span style="color:#719e07">.</span>matches_for_glob(glob)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>      <span style="color:#719e07">[</span>spec, matches<span style="color:#719e07">]</span> <span style="color:#719e07">unless</span> matches<span style="color:#719e07">.</span>empty?
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>   <span style="color:#719e07">end</span><span style="color:#719e07">.</span>compact
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">safe_activate_and_require</span>(spec, paths)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>  spec<span style="color:#719e07">.</span>activate
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>  paths<span style="color:#719e07">.</span>each { <span style="color:#719e07">|</span>path<span style="color:#719e07">|</span> <span style="color:#b58900">require</span>(path) }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>  <span style="color:#719e07">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span><span style="color:#719e07">rescue</span> <span style="color:#cb4b16">Exception</span> <span style="color:#719e07">=&gt;</span> exception
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>  <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span><span style="color:#719e07">end</span>
</code></pre></div><p>æ•´ä½“çš„æµç¨‹å¤§è‡´æ˜¯ï¼š</p>
<ol>
<li>è°ƒç”¨ <code>load_plugins</code> å¹¶ä¼ å…¥ <code>plugin_prefix</code></li>
<li><code>plugin_gems_for_prefix</code> å¯¹æ’ä»¶åè¿›è¡Œå¤„ç†ï¼Œå–å‡ºæˆ‘ä»¬éœ€è¦åŠ è½½çš„æ–‡ä»¶</li>
<li>è°ƒç”¨ <code>safe_activate_and_require</code> è¿›è¡Œå¯¹åº”çš„ gem spec æ£€éªŒå¹¶å¯¹æ¯ä¸ªæ–‡ä»¶è¿›è¡ŒåŠ è½½</li>
</ol>
<p>CocoaPods çš„æ’ä»¶åŠ è½½æ­£æ˜¯ä¾æ‰˜äº CLAide çš„ <code>load_plugins</code>ï¼Œå®ƒä¼šéå†æ‰€æœ‰çš„ RubyGemï¼Œå¹¶æœç´¢è¿™äº› Gem ä¸­æ˜¯å¦åŒ…å«åä¸º <code>#{plugin_prefix}_plugin.rb</code> çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ Pod å‘½ä»¤çš„å®ç°ä¸­æœ‰å¦‚ä¸‹é…ç½®ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#b58900">self</span><span style="color:#719e07">.</span>plugin_prefixes <span style="color:#719e07">=</span> <span style="color:#2aa198">%w(claide cocoapods)</span>
</code></pre></div><p>ä¹Ÿå°±æ˜¯è¯´åœ¨ Pod å‘½ä»¤æ‰§è¡Œå‰ï¼Œ<strong>å®ƒä¼šåŠ è½½æ‰€æœ‰åŒ…å« <code>claide_plugin.rb</code> æˆ– <code>cocoapods_plugin.rb</code> æ–‡ä»¶çš„ Gem</strong>ã€‚é€šè¿‡åœ¨è¿è¡Œæ—¶çš„æ–‡ä»¶æ£€æŸ¥æ¥åŠ è½½ç¬¦åˆè¦æ±‚çš„ç›¸å…³å‘½ä»¤ã€‚</p>
<p><img src="http://cdn.nlark.com/yuque/0/2020/png/227152/1599006816575-464e442d-5b43-475f-bc5f-4b086c59190c.png?x-oss-process=image%2Fresize%2Cw_746" alt="image.png"></p>
<h1 id="ç”¨-claide-å®ç°ä¸€æ¬¾--è´©å–æœº">ç”¨ CLAide å®ç°ä¸€æ¬¾ ğŸ¥¤ è´©å–æœº</h1>
<p>æœ€åä¸€èŠ‚è®©æˆ‘ä»¬ä¸€èµ·æ¥åˆ›å»ºä¸€ä¸ª CLAide å‘½ä»¤ã€‚éœ€æ±‚æ˜¯å¸Œæœ›å®ç°ä¸€ä¸ªè‡ªåŠ¨ ğŸ¥¤ è´©å–æœºï¼Œå®ƒæœ‰å¦‚ä¸‹åŠŸèƒ½ï¼šä¸»è¦å”®å– â˜•ï¸ å’Œ ğŸµï¼Œè¿™ä¸¤ç§ ğŸ¥¤ éƒ½å¯ä»¥æŒ‰éœ€é€‰æ‹©æ˜¯å¦æ·»åŠ  ğŸ¥› å’Œ ğŸ¬ï¼Œå¯¹äº ğŸ¬ è¿˜å¯ä»¥é€‰æ‹©ä¸åŒçš„ç”œåº¦ã€‚</p>
<ul>
<li>â˜•ï¸ï¼šå¯¹äºå’–å•¡ï¼Œæˆ‘ä»¬æä¾›äº†ï¼šBlackEyeã€Affogatoã€CaPheSuaDaã€RedTux çš„å£å‘³</li>
<li>ğŸµï¼šå¯¹äºèŒ¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸åŒçš„å“ç§ï¼Œæœ‰é»‘èŒ¶ã€ç»¿èŒ¶ã€ä¹Œé¾™èŒ¶å’Œç™½èŒ¶ï¼ŒåŒæ—¶èŒ¶è¿˜æä¾›äº†åŠ  ğŸ§Š çš„é€‰é¡¹</li>
</ul>
<h2 id="é…ç½®æ¨¡ç‰ˆé¡¹ç›®">é…ç½®æ¨¡ç‰ˆé¡¹ç›®</h2>
<p>åŸºäºä¸Šè¿°æ„æƒ³ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ <code>BeverageMaker</code> ç›®å½•å°†ç”±ä»¥ä¸‹æ–‡ä»¶ç»„æˆï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>â”œâ”€â”€ BeverageMaker.gemspec
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>â”‚   <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>â”œâ”€â”€ exe
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>â”‚Â Â  â””â”€â”€ beverage-maker
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>â”œâ”€â”€ lib
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>â”‚Â Â  â”œâ”€â”€ beveragemaker
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ <span style="color:#b58900">command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ coffee.rb <span style="color:#586e75"># åŒ…å« abstract command ä»¥åŠç”¨äºåˆ¶ä½œä¸åŒå’–å•¡çš„ normal command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ maker.rb  <span style="color:#586e75"># Command æŠ½è±¡ç±»</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ tea.rb    <span style="color:#586e75"># normal command, ä¸åŒç§ç±»çš„ ğŸµ é€šè¿‡å‚æ•°é…ç½®æ¥å®Œæˆ</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ command.rb
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>â”‚Â Â  â”‚Â Â  â””â”€â”€ version.rb
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>â”‚Â Â  â””â”€â”€ beveragemaker.rb
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>â””â”€â”€ spec
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>    â”œâ”€â”€ BeverageMaker_spec.rb
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>    â””â”€â”€ spec_helper.rb
</code></pre></div><h3 id="0x1-ç”Ÿæˆæ¨¡ç‰ˆé¡¹ç›®">0x1 ç”Ÿæˆæ¨¡ç‰ˆé¡¹ç›®</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>bundler gem GEM_NAME</code> å‘½ä»¤ç”Ÿæˆä¸€ä¸ªæ¨¡ç‰ˆé¡¹ç›®ï¼Œé¡¹ç›®å–åä¸º <strong>BeverageMaker</strong>ã€‚</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>$ bundle gem <span style="color:#cb4b16">BeverageMaker</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span style="color:#cb4b16">Creating</span> gem <span style="color:#2aa198">&#39;BeverageMaker&#39;</span><span style="color:#719e07">...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span style="color:#cb4b16">MIT</span> <span style="color:#cb4b16">License</span> enabled <span style="color:#719e07">in</span> config
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span style="color:#cb4b16">Code</span> of conduct enabled <span style="color:#719e07">in</span> config
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  create  <span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">/</span><span style="color:#cb4b16">Gemfile</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>  create  <span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span><span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">.</span>rb
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>  create  <span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span><span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">/</span>version<span style="color:#719e07">.</span>rb
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>  create  <span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">/</span><span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">.</span>gemspec
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>  create  <span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">/</span><span style="color:#cb4b16">Rakefile</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>  <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span style="color:#cb4b16">Initializing</span> git repo <span style="color:#719e07">in</span> <span style="color:#719e07">~</span><span style="color:#dc322f">/$HOME/</span><span style="color:#cb4b16">Desktop</span><span style="color:#719e07">/</span><span style="color:#cb4b16">BeverageMaker</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span style="color:#cb4b16">Gem</span> <span style="color:#2aa198">&#39;BeverageMaker&#39;</span> was successfully created<span style="color:#719e07">.</span> <span style="color:#cb4b16">For</span> more information on making a <span style="color:#cb4b16">RubyGem</span> visit <span style="color:#2aa198">https</span>:<span style="color:#dc322f">//</span>bundler<span style="color:#719e07">.</span>io<span style="color:#719e07">/</span>guides<span style="color:#719e07">/</span>creating_gem<span style="color:#719e07">.</span>html
</code></pre></div><h3 id="0x2-ä¿®æ”¹-gemspec-é…ç½®">0x2 ä¿®æ”¹ gemspec é…ç½®</h3>
<p>ç”Ÿæˆçš„é¡¹ç›®ä¸­éœ€è¦å°† <code>BeverageMaker.gemspec</code> æ–‡ä»¶æ‰€åŒ…å« <strong>TODO</strong> çš„å­—æ®µè¿›è¡Œæ›¿æ¢ï¼Œä½œä¸ºç¤ºä¾‹é¡¹ç›®ç›¸å…³é“¾æ¥éƒ½æ›¿æ¢ä¸ºä¸ªäººä¸»é¡µäº† ğŸ˜‚ã€‚
å¦å¤–ï¼Œéœ€è¦æ·»åŠ æˆ‘ä»¬çš„ä¾èµ– <code>'claide', '&gt;= 1.0.2', '&lt; 2.0'</code> å’Œ <code>'colored2', '~&gt; 3.1'</code>ã€‚</p>
<blockquote>
<p><strong>colored2</strong> ç”¨äº banner ä¿¡æ¯çš„ ANSI è½¬ä¹‰å¹¶ä½¿å…¶èƒ½åœ¨ç»ˆç«¯ä»¥å¯Œæ–‡æœ¬æ ¼å¼è¾“å‡ºã€‚</p>
</blockquote>
<p>æœ€ç»ˆ <code>.gempsc</code> é…ç½®å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>require_relative <span style="color:#2aa198">&#39;lib/BeverageMaker/version&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span style="color:#cb4b16">Gem</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Specification</span><span style="color:#719e07">.</span>new <span style="color:#719e07">do</span> <span style="color:#719e07">|</span>spec<span style="color:#719e07">|</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>  spec<span style="color:#719e07">.</span>name          <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;BeverageMaker&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  spec<span style="color:#719e07">.</span>version       <span style="color:#719e07">=</span> <span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">::</span><span style="color:#cb4b16">VERSION</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>  spec<span style="color:#719e07">.</span>authors       <span style="color:#719e07">=</span> <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;Edmond&#34;</span><span style="color:#719e07">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>  spec<span style="color:#719e07">.</span>email         <span style="color:#719e07">=</span> <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;chun574271939@gmail.com&#34;</span><span style="color:#719e07">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>  spec<span style="color:#719e07">.</span>summary       <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;BeverageMaker&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>  spec<span style="color:#719e07">.</span>description   <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;BeverageMaker&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>  spec<span style="color:#719e07">.</span>homepage      <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;https://looseyi.github.io&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>  spec<span style="color:#719e07">.</span>license       <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;MIT&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>  spec<span style="color:#719e07">.</span>required_ruby_version <span style="color:#719e07">=</span> <span style="color:#cb4b16">Gem</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Requirement</span><span style="color:#719e07">.</span>new(<span style="color:#2aa198">&#34;&gt;= 2.3.0&#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>  spec<span style="color:#719e07">.</span>metadata<span style="color:#719e07">[</span><span style="color:#2aa198">&#34;allowed_push_host&#34;</span><span style="color:#719e07">]</span> <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;https://looseyi.github.io&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>  spec<span style="color:#719e07">.</span>metadata<span style="color:#719e07">[</span><span style="color:#2aa198">&#34;homepage_uri&#34;</span><span style="color:#719e07">]</span> <span style="color:#719e07">=</span> spec<span style="color:#719e07">.</span>homepage
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>  spec<span style="color:#719e07">.</span>metadata<span style="color:#719e07">[</span><span style="color:#2aa198">&#34;source_code_uri&#34;</span><span style="color:#719e07">]</span> <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;https://looseyi.github.io&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>  spec<span style="color:#719e07">.</span>metadata<span style="color:#719e07">[</span><span style="color:#2aa198">&#34;changelog_uri&#34;</span><span style="color:#719e07">]</span> <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;https://looseyi.github.io&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>  spec<span style="color:#719e07">.</span>files         <span style="color:#719e07">=</span> <span style="color:#cb4b16">Dir</span><span style="color:#719e07">.</span>chdir(<span style="color:#cb4b16">File</span><span style="color:#719e07">.</span>expand_path(<span style="color:#2aa198">&#39;..&#39;</span>, <span style="color:#268bd2">__FILE__</span>)) <span style="color:#719e07">do</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span>    <span style="color:#586e75">`git ls-files -z`</span><span style="color:#719e07">.</span>split(<span style="color:#2aa198">&#34;</span><span style="color:#cb4b16">\x0</span><span style="color:#2aa198">&#34;</span>)<span style="color:#719e07">.</span>reject { <span style="color:#719e07">|</span>f<span style="color:#719e07">|</span> f<span style="color:#719e07">.</span>match(<span style="color:#dc322f">%r{^(test|spec|features)/}</span>) }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span>  <span style="color:#586e75"># 1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25</span>  spec<span style="color:#719e07">.</span>bindir        <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;exe&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26</span>  spec<span style="color:#719e07">.</span>executables   <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;beverage-maker&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27</span>  spec<span style="color:#719e07">.</span>require_paths <span style="color:#719e07">=</span> <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;lib&#34;</span><span style="color:#719e07">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28</span>   
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29</span>  spec<span style="color:#719e07">.</span>add_runtime_dependency <span style="color:#2aa198">&#39;claide&#39;</span>,         <span style="color:#2aa198">&#39;&gt;= 1.0.2&#39;</span>, <span style="color:#2aa198">&#39;&lt; 2.0&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30</span>  spec<span style="color:#719e07">.</span>add_runtime_dependency <span style="color:#2aa198">&#39;colored2&#39;</span>,       <span style="color:#2aa198">&#39;~&gt; 3.1&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31</span><span style="color:#719e07">end</span>
</code></pre></div><h3 id="0x3-æ·»åŠ å‘½ä»¤è¡Œå…¥å£">0x3 æ·»åŠ å‘½ä»¤è¡Œå…¥å£</h3>
<p>é€šè¿‡ä¿®æ”¹ <code>.gemspec</code> çš„ <code>bindir</code> å’Œ <code>executables</code> å­—æ®µï¼ŒæŠŠæœ€ç»ˆçš„ binary æ‰§è¡Œæ–‡ä»¶æš´éœ²ç»™ç”¨æˆ·ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªçœŸæ­£çš„ CLIï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>spec<span style="color:#719e07">.</span>bindir        <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;exe&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>spec<span style="color:#719e07">.</span>executables   <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;beverage-maker&#34;</span>
</code></pre></div><p>åœ¨é»˜è®¤ç”Ÿæˆçš„æ¨¡ç‰ˆä¸­æŒ‡å®šçš„ <code>bindir</code> ä¸º <code>/bin</code> ç›®å½•ï¼Œè¿™é‡Œæˆ‘ä»¬æ›¿æ¢ä¸ºæ–°å»ºçš„ <code>exe</code> ç›®å½•ï¼Œå¹¶åœ¨ <code>exe</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>beverage-maker</code> çš„æ–‡ä»¶ï¼Œå®ƒå°†ä½œä¸º CLI çš„å…¥å£ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#586e75">#!/usr/bin/env ruby</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;beveragemaker&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#cb4b16">BeverageMaker</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Command</span><span style="color:#719e07">.</span>run(<span style="color:#cb4b16">ARGV</span>)
</code></pre></div><h2 id="æ·»åŠ å‘½ä»¤å®ç°">æ·»åŠ å‘½ä»¤å®ç°</h2>
<p>ä¸ºäº†è®© Demo ç»“æ„æ¸…æ™°ï¼Œæˆ‘ä»¬å°†ä¸èƒ½ç±»å‹çš„é¥®æ–™åˆ¶ä½œåˆ†åˆ°äº†ä¸åŒçš„æ–‡ä»¶å’Œå‘½ä»¤ç±»ä¸­ã€‚
<img src="http://cdn.nlark.com/yuque/0/2020/jpeg/98641/1598855030357-6c577c34-8687-4aa3-b495-876a2a6e4ecb.jpeg?x-oss-process=image%2Fresize%2Cw_746" alt=""></p>
<h3 id="beveragemaker">BeverageMaker</h3>
<p>å…ˆæ¥å®ç° <code>beverage-maker</code> å‘½ä»¤ï¼Œå®ƒæ˜¯ä¸€ä¸ª <code>abstract command</code>ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;claide&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;colored2&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span style="color:#719e07">module</span> BeverageMaker
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  <span style="color:#586e75"># å¼•å…¥å…·ä½“çš„ coffee &amp; tea maker</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;beveragemaker/command/coffee&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>  <span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;beveragemaker/command/tea&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>  <span style="color:#719e07">class</span> <span style="color:#268bd2">Command</span> <span style="color:#719e07">&lt;</span> <span style="color:#cb4b16">CLAide</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>    <span style="color:#b58900">self</span><span style="color:#719e07">.</span>command <span style="color:#719e07">=</span> <span style="color:#2aa198">&#39;beverage-maker&#39;</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>    <span style="color:#b58900">self</span><span style="color:#719e07">.</span>abstract_command <span style="color:#719e07">=</span> <span style="color:#719e07">true</span>   
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    <span style="color:#b58900">self</span><span style="color:#719e07">.</span>description <span style="color:#719e07">=</span> <span style="color:#2aa198">&#39;Make delicious beverages from the comfort of your terminal.&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>    <span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">options</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>      <span style="color:#719e07">[</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>        <span style="color:#719e07">[</span><span style="color:#2aa198">&#39;--no-milk&#39;</span>, <span style="color:#2aa198">&#39;Donâ€™t add milk to the beverage&#39;</span><span style="color:#719e07">]</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>        <span style="color:#719e07">[</span><span style="color:#2aa198">&#39;--sweetener=[sugar|honey]&#39;</span>, <span style="color:#2aa198">&#39;Use one of the available sweeteners&#39;</span><span style="color:#719e07">]</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>      <span style="color:#719e07">].</span>concat(<span style="color:#719e07">super</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span>    <span style="color:#719e07">def</span> <span style="color:#268bd2">initialize</span>(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span>      @add_milk <span style="color:#719e07">=</span> argv<span style="color:#719e07">.</span>flag?(<span style="color:#2aa198">&#39;milk&#39;</span>, <span style="color:#719e07">true</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span>      @sweetener <span style="color:#719e07">=</span> argv<span style="color:#719e07">.</span>option(<span style="color:#2aa198">&#39;sweetener&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25</span>      <span style="color:#719e07">super</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28</span>    <span style="color:#719e07">def</span> <span style="color:#268bd2">validate!</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29</span>      <span style="color:#719e07">super</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30</span>      <span style="color:#719e07">if</span> @sweetener <span style="color:#719e07">&amp;&amp;</span> <span style="color:#719e07">!</span><span style="color:#2aa198">%w(sugar honey)</span><span style="color:#719e07">.</span>include?(@sweetener)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31</span>        help! <span style="color:#2aa198">&#34;`</span><span style="color:#2aa198">#{</span>@sweetener<span style="color:#2aa198">}</span><span style="color:#2aa198">&#39; is not a valid sweetener.&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32</span>      <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35</span>    <span style="color:#719e07">def</span> <span style="color:#268bd2">run</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36</span>      <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#39;* Boiling waterâ€¦&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37</span>      <span style="color:#b58900">sleep</span> <span style="color:#2aa198">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38</span>      <span style="color:#719e07">if</span> @add_milk
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39</span>        <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#39;* Adding milkâ€¦&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40</span>        <span style="color:#b58900">sleep</span> <span style="color:#2aa198">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41</span>      <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42</span>      <span style="color:#719e07">if</span> @sweetener
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43</span>        <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#34;* Adding </span><span style="color:#2aa198">#{</span>@sweetener<span style="color:#2aa198">}</span><span style="color:#2aa198">â€¦&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44</span>        <span style="color:#b58900">sleep</span> <span style="color:#2aa198">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45</span>      <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48</span><span style="color:#719e07">end</span>
</code></pre></div><p>æ­£å¸¸æ¥è¯´ï¼Œå¯¹äºä¸åŒå£å‘³çš„å’–å•¡å’ŒèŒ¶æ˜¯å¯ä»¥ç”¨ç›¸åŒçš„å‘½ä»¤æ¨¡å¼æ¥å®ç°çš„ï¼Œä¸è¿‡ä¸ºäº†æ›´å¥½çš„å±•ç¤º <code>CLAide</code> çš„æ•ˆæœï¼Œæˆ‘ä»¬å°†å’–å•¡çš„ç”Ÿäº§é…ç½®ä¸º <code>abstact command</code>ï¼Œå¯¹äºä¸åŒå£å‘³çš„å’–å•¡ï¼Œéœ€è¦å®ç°ä¸åŒçš„ <code>normal command</code>ã€‚è€ŒèŒ¶çš„ç”Ÿäº§ç›´æ¥é€šè¿‡ <code>normal command</code> å®ç°ï¼Œä¸åŒå“ç§çš„èŒ¶å¶ä¼šä»¥å‚æ•°çš„å½¢å¼æ¥é…ç½®ã€‚</p>
<h3 id="coffee">Coffee</h3>
<p>æ¥ç€æ·»åŠ  â˜•ï¸ çš„ä»£ç </p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">class</span> <span style="color:#268bd2">Coffee</span> <span style="color:#719e07">&lt;</span> <span style="color:#cb4b16">Command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>  <span style="color:#b58900">self</span><span style="color:#719e07">.</span>abstract_command <span style="color:#719e07">=</span> <span style="color:#719e07">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">run</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>    <span style="color:#719e07">super</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>    <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#34;* Grinding </span><span style="color:#2aa198">#{</span><span style="color:#b58900">self</span><span style="color:#719e07">.</span>class<span style="color:#719e07">.</span>command<span style="color:#2aa198">}</span><span style="color:#2aa198"> beansâ€¦&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>    <span style="color:#b58900">sleep</span> <span style="color:#2aa198">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>    <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#39;* Brewing coffeeâ€¦&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>    <span style="color:#b58900">sleep</span> <span style="color:#2aa198">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>    <span style="color:#b58900">puts</span> <span style="color:#2aa198">&#39;* Enjoy!&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>  <span style="color:#719e07">class</span> <span style="color:#268bd2">BlackEye</span> <span style="color:#719e07">&lt;</span> <span style="color:#cb4b16">Coffee</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>    <span style="color:#b58900">self</span><span style="color:#719e07">.</span>summary <span style="color:#719e07">=</span> <span style="color:#2aa198">&#39;A Black Eye is dripped coffee with a double shot of &#39;</span> \
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>    <span style="color:#2aa198">&#39;espresso&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>  <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span><span style="color:#719e07">end</span>
</code></pre></div><h3 id="tea">Tea</h3>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#719e07">class</span> <span style="color:#268bd2">Tea</span> <span style="color:#719e07">&lt;</span> <span style="color:#cb4b16">Command</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>  <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>  <span style="color:#b58900">self</span><span style="color:#719e07">.</span>arguments <span style="color:#719e07">=</span> <span style="color:#719e07">[</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    <span style="color:#cb4b16">CLAide</span><span style="color:#719e07">::</span><span style="color:#cb4b16">Argument</span><span style="color:#719e07">.</span>new(<span style="color:#2aa198">&#39;FLAVOR&#39;</span>, <span style="color:#719e07">true</span>),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  <span style="color:#719e07">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">self</span><span style="color:#719e07">.</span><span style="color:#268bd2">options</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>    <span style="color:#719e07">[[</span><span style="color:#2aa198">&#39;--iced&#39;</span>, <span style="color:#2aa198">&#39;the ice-tea version&#39;</span><span style="color:#719e07">]].</span>concat(<span style="color:#719e07">super</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">initialize</span>(argv)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>    @flavor <span style="color:#719e07">=</span> argv<span style="color:#719e07">.</span>shift_argument
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    @iced <span style="color:#719e07">=</span> argv<span style="color:#719e07">.</span>flag?(<span style="color:#2aa198">&#39;iced&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>    <span style="color:#719e07">super</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>  <span style="color:#719e07">def</span> <span style="color:#268bd2">validate!</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>    <span style="color:#719e07">super</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>    <span style="color:#719e07">if</span> @flavor<span style="color:#719e07">.</span>nil?
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>      help! <span style="color:#2aa198">&#39;A flavor argument is required.&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span>    <span style="color:#719e07">unless</span> <span style="color:#2aa198">%w(black green oolong white)</span><span style="color:#719e07">.</span>include?(@flavor)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span>      help! <span style="color:#2aa198">&#34;`</span><span style="color:#2aa198">#{</span>@flavor<span style="color:#2aa198">}</span><span style="color:#2aa198">&#39; is not a valid flavor.&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span>    <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25</span>  <span style="color:#719e07">end</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26</span>  <span style="color:#586e75"># ...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27</span><span style="color:#719e07">end</span>
</code></pre></div><h2 id="å®‰è£…--è´©å–æœº">å®‰è£… ğŸ¥¤ è´©å–æœº</h2>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºæ­£å¸¸å‘å¸ƒçš„ gem åŒ…ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>gem install GEM_NAME</code> å®‰è£…ã€‚
è€Œæˆ‘ä»¬çš„ Demo ç¨‹åºå¹¶æœªå‘å¸ƒï¼Œé‚£è¦å¦‚ä½•å®‰è£…ä½¿ç”¨å‘¢ï¼Ÿå¹¸å¥½ Gem æä¾›äº†æºç å®‰è£…çš„æ–¹å¼ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>gem build *.gemspec
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>gem install *.gem
</code></pre></div><p><code>gem build</code> å¯ä»¥æ ¹æ®ä¸€ä¸ª <code>.gemspec</code> ç”Ÿæˆä¸€ä¸ª <code>.gem</code> æ–‡ä»¶ä¾› gem å®‰è£…ï¼Œæ‰€ä»¥åœ¨æ‹¥æœ‰æºç çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œä¸Šé¢å‘½ä»¤å°±å¯ä»¥å®‰è£…äº†ã€‚
æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>$ gem build *.gemspec
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>WARNING:  description and summary are identical
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>WARNING:  See http://guides.rubygems.org/specification-reference/ <span style="color:#719e07">for</span> <span style="color:#b58900">help</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>  Successfully built RubyGem
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>  Name: BeverageMaker
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>  Version: 0.1.0
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>  File: BeverageMaker-0.1.0.gem
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>$ gem install *.gem
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>Successfully installed BeverageMaker-0.1.0
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>Parsing documentation <span style="color:#719e07">for</span> BeverageMaker-0.1.0
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>Done installing documentation <span style="color:#719e07">for</span> BeverageMaker after <span style="color:#2aa198">0</span> seconds
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span style="color:#2aa198">1</span> gem installed
</code></pre></div><p>ç¼–è¯‘é€šè¿‡ï¼
ç°åœ¨å¯ä»¥å¼€å§‹æˆ‘ä»¬çš„ ğŸ¥¤ åˆ¶ä½œå•¦ï¼</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>$ beverage<span style="color:#719e07">-</span>maker
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span style="color:#2aa198">Usage</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>  $ beverage<span style="color:#719e07">-</span>maker <span style="color:#cb4b16">COMMAND</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>    <span style="color:#cb4b16">Make</span> delicious beverages from the comfort of yourterminal<span style="color:#719e07">.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span style="color:#2aa198">Commands</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>  <span style="color:#719e07">+</span> coffee                    <span style="color:#cb4b16">Drink</span> brewed from roasted coffee beans
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span style="color:#2aa198">Options</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>  <span style="color:#719e07">--</span>no<span style="color:#719e07">-</span>milk                   <span style="color:#cb4b16">Don</span>â€™t add milk to the beverage
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>  <span style="color:#719e07">--</span>sweetener<span style="color:#719e07">=[</span>sugar<span style="color:#719e07">|</span>honey<span style="color:#719e07">]</span>   <span style="color:#cb4b16">Use</span> one of the available sweeteners
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>  <span style="color:#719e07">--</span>version                   <span style="color:#cb4b16">Show</span> the version of the tool
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>  <span style="color:#719e07">--</span>verbose                   <span style="color:#cb4b16">Show</span> more debugging information
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>  <span style="color:#719e07">--</span>no<span style="color:#719e07">-</span>ansi                   <span style="color:#cb4b16">Show</span> output without <span style="color:#cb4b16">ANSI</span> codes
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>  <span style="color:#719e07">--</span>help                      <span style="color:#cb4b16">Show</span> help banner of specified command
</code></pre></div><p>æ¥ä¸€æ¯ black-eye â˜•ï¸ï¼Œä¼‘æ¯ä¸€ä¸‹å§!</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>$ beverage<span style="color:#719e07">-</span>maker coffee black<span style="color:#719e07">-</span>eye
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span style="color:#719e07">*</span> <span style="color:#cb4b16">Boiling</span> waterâ€¦
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#719e07">*</span> <span style="color:#cb4b16">Adding</span> milkâ€¦
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span style="color:#719e07">*</span> <span style="color:#cb4b16">Grinding</span> black<span style="color:#719e07">-</span>eye beansâ€¦
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#719e07">*</span> <span style="color:#cb4b16">Brewing</span> coffeeâ€¦
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span><span style="color:#719e07">*</span> <span style="color:#cb4b16">Enjoy</span><span style="color:#719e07">!</span>
</code></pre></div><p>å¦‚éœ€æœ¬æ–‡çš„ Demo ä»£ç ï¼Œè¯·è®¿é—®ï¼š<a href="https://github.com/looseyi/BeverageMaker">https://github.com/looseyi/BeverageMaker</a></p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æœ¬æ–‡ç®€å•èŠäº† <code>CLAide</code> çš„å®ç°ï¼Œå¹¶æ‰‹åŠ¨åˆ¶ä½œäº†ä¸€æ¬¾ ğŸ¥¤ è´©å–æœºæ¥å±•ç¤º CALide çš„å‘½ä»¤é…ç½®ã€‚ä¸»è¦æ„Ÿå—å¦‚ä¸‹ï¼š</p>
<ol>
<li>é€šè¿‡å¯¹æºç å¯¹é˜…è¯»ï¼Œç»ˆäºäº†è§£äº†å¯¹ Â <code>pod</code> å‘½ä»¤çš„çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</li>
<li>ä»…éœ€ç®€å•é…ç½® <code>Command</code> bannerï¼Œå°±èƒ½æœ‰æ¯”è¾ƒç²¾ç¾çš„ç»ˆç«¯è¾“å‡ºæ•ˆæœå’Œå¸®åŠ©æç¤ºç­‰</li>
<li>æä¾›çš„æŠ½è±¡å‘½ä»¤åŠŸèƒ½ï¼Œæ–¹ä¾¿çš„å°†ç›¸å…³é€»è¾‘æ”¶å£åˆ°ç»Ÿä¸€åˆ°å‘½ä»¤ä¸­ï¼Œæ–¹ä¾¿æŸ¥é˜…</li>
<li>ä»ä¾§é¢ç®€å•äº†è§£äº†ï¼Œå¦‚ä½•åœ¨ç»ˆç«¯è¾“å‡ºå¸¦å¯Œæ–‡æœ¬æ•ˆæœçš„æç¤ºä¿¡æ¯</li>
</ol>
<h1 id="çŸ¥è¯†ç‚¹é—®é¢˜æ¢³ç†">çŸ¥è¯†ç‚¹é—®é¢˜æ¢³ç†</h1>
<p>è¿™é‡Œç½—åˆ—äº†å››ä¸ªé—®é¢˜ç”¨æ¥è€ƒå¯Ÿä½ æ˜¯å¦å·²ç»æŒæ¡äº†è¿™ç¯‡æ–‡ç« ï¼Œå¦‚æœæ²¡æœ‰å»ºè®®ä½ åŠ å…¥<strong>æ”¶è—</strong>å†æ¬¡é˜…è¯»ï¼š</p>
<ol>
<li><code>CLAide</code> é¢„è®¾çš„ banner æœ‰å“ªäº›ï¼Œå…¶ä½œç”¨åˆ†åˆ«æ˜¯ä»€ä¹ˆ ï¼Ÿ</li>
<li><code>CALide</code> ä¸­è®¾å®šçš„ Argument æœ‰å‡ ç§ç±»å‹ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆ ï¼Ÿ</li>
<li><code>CALide</code> ä¸­æŠ½è±¡å‘½ä»¤çš„å’Œæ™®é€šå‘½ä»¤çš„åŒºåˆ« ï¼Ÿ</li>
<li>è¦å®ç° CLI éœ€è¦ä¿®æ”¹ <code>.gemspec</code> ä¸­çš„å“ªäº›é…ç½® ï¼Ÿ</li>
</ol>
</section>

  
  
  <footer class="post-tags">
     
    <a href="https://looseyi.github.io/tags/cocoapods">CocoaPods</a>
     
    <a href="https://looseyi.github.io/tags/ios">iOS</a>
     
    <a href="https://looseyi.github.io/tags/ruby">Ruby</a>
    
  </footer>
  

  
  
  
  <nav class="post-nav">
    
    <a class="prev" href="https://looseyi.github.io/post/sourcecode-cocoapods/04-cocoapods-podfile/"><span>â†</span><span>4. Podfile çš„è§£æé€»è¾‘</span></a>
     
    <a class="next" href="https://looseyi.github.io/post/sourcecode-cocoapods/02-cocoapods-corecomponents/"><span>2. æ•´ä½“æŠŠæ¡ CocoaPods æ ¸å¿ƒç»„ä»¶</span><span>â†’</span></a>
    
  </nav>
  

  
  
</article>


			

  

  
    <script src="https://utteranc.es/client.js"
            repo="looseyi/looseyi.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

		</main>

    <footer class="footer">
  <p>&copy; 2021 <a href="https://looseyi.github.io/">Aha Edmond</a></p>
  <p>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugoï¸ï¸</a>ï¸</p>
  <p>
    <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper 5.1</a>
  </p>
</footer>

		


  </body>
</html>
