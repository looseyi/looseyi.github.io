<!DOCTYPE html>















<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>WWDC20 - Build SwiftUI views for widgets - Aha Edmond</title>

  
  
  <meta name="description" content="WWDC20 Session 10033 - Build SwiftUI views for widgets æœ¬æ–‡çŸ¥è¯†ç›®å½• æœ¬æ–‡å±äº WWDC20 ä¸­ Widgets ç³»åˆ—çš„æ–‡ç« ã€‚Widgets æ˜¯ä½¿ç”¨ SwiftUI è¿›è¡Œå¼€å‘çš„ï¼Œå¦‚æœæ‚¨å¯¹ SwiftUI è¿˜ä¸æ˜¯å¾ˆäº†è§£è¯·ç¿»çœ‹ Introduction to SwiftUIã€‚å¦‚" />
  <meta name="author" content="åœŸåœŸEdmondæœ¨" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://looseyi.github.io/app.min.css" />

  

  
  <link rel="preload" as="image" href="https://looseyi.github.io/theme.png" />

  
  <link rel="preload" as="image" href="https://looseyi.github.io/twitter.svg" />
  
  <link rel="preload" as="image" href="https://looseyi.github.io/github.svg" />
  

  
  <link rel="icon" href="https://looseyi.github.io/favicon.ico" />
  <link rel="apple-touch-icon" href="https://looseyi.github.io/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.82.1" />

  
  
  <link
    rel="alternate"
    type="application/rss&#43;xml"
    href="https://looseyi.github.io/post/wwdc/wwdc20/wwdc20-session-10033/index.xml"
    title="Aha Edmond"
  />
  

  
  
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-62789092-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
  
  <meta property="og:title" content="WWDC20 - Build SwiftUI views for widgets" />
<meta property="og:description" content="WWDC20 Session 10033 - Build SwiftUI views for widgets æœ¬æ–‡çŸ¥è¯†ç›®å½• æœ¬æ–‡å±äº WWDC20 ä¸­ Widgets ç³»åˆ—çš„æ–‡ç« ã€‚Widgets æ˜¯ä½¿ç”¨ SwiftUI è¿›è¡Œå¼€å‘çš„ï¼Œå¦‚æœæ‚¨å¯¹ SwiftUI è¿˜ä¸æ˜¯å¾ˆäº†è§£è¯·ç¿»çœ‹ Introduction to SwiftUIã€‚å¦‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://looseyi.github.io/post/wwdc/wwdc20/wwdc20-session-10033/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-06-27T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2020-06-27T00:00:00&#43;00:00" />


  
  <meta itemprop="name" content="WWDC20 - Build SwiftUI views for widgets">
<meta itemprop="description" content="WWDC20 Session 10033 - Build SwiftUI views for widgets æœ¬æ–‡çŸ¥è¯†ç›®å½• æœ¬æ–‡å±äº WWDC20 ä¸­ Widgets ç³»åˆ—çš„æ–‡ç« ã€‚Widgets æ˜¯ä½¿ç”¨ SwiftUI è¿›è¡Œå¼€å‘çš„ï¼Œå¦‚æœæ‚¨å¯¹ SwiftUI è¿˜ä¸æ˜¯å¾ˆäº†è§£è¯·ç¿»çœ‹ Introduction to SwiftUIã€‚å¦‚"><meta itemprop="datePublished" content="2020-06-27T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-27T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="2422">
<meta itemprop="keywords" content="iOS&#39;,WWDC&#39;,SwiftUI," />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="WWDC20 - Build SwiftUI views for widgets"/>
<meta name="twitter:description" content="WWDC20 Session 10033 - Build SwiftUI views for widgets æœ¬æ–‡çŸ¥è¯†ç›®å½• æœ¬æ–‡å±äº WWDC20 ä¸­ Widgets ç³»åˆ—çš„æ–‡ç« ã€‚Widgets æ˜¯ä½¿ç”¨ SwiftUI è¿›è¡Œå¼€å‘çš„ï¼Œå¦‚æœæ‚¨å¯¹ SwiftUI è¿˜ä¸æ˜¯å¾ˆäº†è§£è¯·ç¿»çœ‹ Introduction to SwiftUIã€‚å¦‚"/>

  
  
</head>


  <body class="not-ready" data-menu="true">
    <header class="header">
  
  <p class="logo">
    <a class="site-name" href="https://looseyi.github.io/">Aha Edmond</a><a class="btn-dark"></a>
  </p>
  

  <script>
    let bodyClx = document.body.classList;
    let btnDark = document.querySelector('.btn-dark');
    let sysDark = window.matchMedia('(prefers-color-scheme: dark)');
    let darkVal = localStorage.getItem('dark');

    let setDark = (isDark) => {
      bodyClx[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark ? 'yes' : 'no');
    };

    setDark(darkVal ? darkVal === 'yes' : sysDark.matches);
    requestAnimationFrame(() => bodyClx.remove('not-ready'));

    btnDark.addEventListener('click', () => setDark(!bodyClx.contains('dark')));
    sysDark.addEventListener('change', (event) => setDark(event.matches));
  </script>

  
  
  <nav class="menu">
    
    <a class="" href="/">Home</a>
    
  </nav>
  

  
  <nav class="social">
    
    <a
      class="twitter"
      style="--url: url(./twitter.svg)"
      href="https://twitter.com/looseyi"
      target="_blank"
    ></a>
    
    <a
      class="github"
      style="--url: url(./github.svg)"
      href="https://github.com/looseyi"
      target="_blank"
    ></a>
    
  </nav>
  
</header>


    <main class="main">
			

<article class="post-single">
  <header class="post-title">
    <p>
      <time>2020-06-27</time>
      
      <span>åœŸåœŸEdmondæœ¨</span>
      
    </p>
    <h1>WWDC20 - Build SwiftUI views for widgets</h1>
  </header>
  <section class="post-content"><blockquote>
<p>WWDC20 Session 10033 - <a href="https://wwdc.io/share/wwdc20/10033">Build SwiftUI views for widgets</a></p>
</blockquote>
<h1 id="æœ¬æ–‡çŸ¥è¯†ç›®å½•">æœ¬æ–‡çŸ¥è¯†ç›®å½•</h1>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aao2inhj21hc10sn1q.jpg" alt="Build SwiftUI views for widgets"></p>
<p>æœ¬æ–‡å±äº WWDC20 ä¸­ Widgets ç³»åˆ—çš„æ–‡ç« ã€‚Widgets æ˜¯ä½¿ç”¨ SwiftUI è¿›è¡Œå¼€å‘çš„ï¼Œå¦‚æœæ‚¨å¯¹ SwiftUI è¿˜ä¸æ˜¯å¾ˆäº†è§£è¯·ç¿»çœ‹ <a href="https://wwdc.io/share/wwdc20/10119">Introduction to SwiftUI</a>ã€‚å¦‚æœå¸Œæœ›å…ˆäº†è§£æ›´å¤š Widgets è¯·ç§»æ­¥æ–‡æœ«çš„ç›¸å…³é“¾æ¥ã€‚</p>
<h1 id="swiftui-in-widgets">SwiftUI in widgets</h1>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aani6pjj21ao0qa47o.jpg" alt="00-opportunityToLearnSwiftUI"></p>
<p>æˆ‘ä»¬å¯ä»¥ä¸º Widgets æä¾›åŸºäºæ—¶é—´çº¿çš„å†…å®¹ï¼Œå®ƒå°†åœ¨é€‚å½“çš„æ—¶æœºå±•ç¤ºåœ¨ iOS 14 æˆ– macOS Big Sur ç³»ç»Ÿçš„ä¸»å±å¹•ä¸Šã€‚å¾—ç›Šäº SwiftUI è‰¯å¥½çš„å±å¹•è‡ªé€‚åº”èƒ½åŠ›ï¼ŒWidgets å¯ä»¥åœ¨ä¸åŒçš„ç³»ç»Ÿä¸Šå±•ç¤ºå‡ºä¸é”™çš„æ•ˆæœã€‚å› æ­¤ï¼Œå°½ç®¡æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå‘å¸ƒåœ¨æ—§ç‰ˆæœ¬çš„ç³»ç»Ÿä¸­ (æ— æ³•ä½¿ç”¨ SwiftUI)ï¼ŒWidgets ä¹Ÿå°†æ˜¯æˆ‘ä»¬å­¦ä¹ å’Œä½¿ç”¨ SwiftUI çš„ç»ä½³æœºä¼šã€‚</p>
<p>Widgets çš„å±•ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aankyrfj212l0p77u8.jpg" alt="01-SwiftUI&Widgets"></p>
<p>äº‹ä¸å®œè¿Ÿï¼Œè®©æˆ‘ä»¬ç›´æ¥é€šè¿‡ Demo æ¥ä½“éªŒå¦‚ä½•ä½¿ç”¨ SwiftUI æ¥å¼€å‘ä¸€ä¸ª Widgets</p>
<h1 id="caffiine-drink-demo">Caffiine Drink Demo</h1>
<p>æˆ‘ä»¬å°†è¦åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œç”¨äºè®°å½•å’Œè·Ÿè¸ªæˆ‘ä»¬æ‰€å–çš„å«å’–å•¡å› çš„é¥®æ–™ï¼Œå¹¶ä¼°ç®—å‡ºæˆ‘ä»¬ä½“å†…çš„å’–å•¡å› å«é‡ã€‚ åº”ç”¨å¦‚ä¸‹ï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanlzjqj21ao0qa45r.jpg" alt="03-coffeineDrinks"></p>
<p>è€Œ Widgets æ­£å¥½å¯ä»¥ä½œä¸ºè¯¥åº”ç”¨ç¨‹åºçš„é‡è¦è¡¥å……ï¼Œä»¥ä¾¿èƒ½å¤Ÿä¸€ç›®äº†ç„¶åœ°çŸ¥é“æˆ‘ä»¬å½“å‰çš„å’–å•¡å› å«é‡ã€‚</p>
<p>è¿™ä¸ªæ˜¯æˆ‘ä»¬å¸Œæœ›å±•ç¤ºçš„ Widget æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aannftyj21ao0qadhd.jpg" alt="04-coffeineDrinksItem"></p>
<p>é¦–å…ˆï¼Œå¯ä»¥çœ‹åˆ°å®ƒçš„è§†è§‰å’Œé…è‰²æ–¹æ¡ˆä¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç›¸åŒã€‚</p>
<p>åœ¨é¡¶éƒ¨ï¼Œæˆ‘ä»¬æ˜¾ç¤ºäº†æˆ‘ä»¬ä½“å†…ç›®å‰çš„å’–å•¡å› å«é‡ï¼Œåº•éƒ¨è®°å½•çš„æ˜¯æˆ‘ä»¬å–çš„æœ€åä¸€æ¯å’–å•¡çš„æ—¶é—´ã€‚è¯·æ³¨æ„ âš ï¸ï¼Œå’–å•¡å› å«é‡çš„èƒŒæ™¯å½¢çŠ¶ä¸ widget å½¢çŠ¶æ˜¯åŒå¿ƒåœ†çš„å…³ç³»ï¼Œå®ƒå¯æ˜¯ä½¿ç”¨æˆ‘ä»¬æ–°å‡ºçš„ API æ¥å®ç°çš„å“¦ã€‚</p>
<p>æœ€åï¼Œä¹Ÿå¸Œæœ› widget åº•éƒ¨çš„æŒç»­æ—¶é—´èƒ½å¤Ÿå®æ—¶æ›´æ–°ä»¥å§‹ç»ˆæ­£ç¡®ã€‚</p>
<h2 id="hello-widget">Hello Widget!</h2>
<p>æˆ‘ä»¬å…ˆæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå¯ä»¥æ˜¯ iOSã€macOS æˆ– Multiplatformï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg63now4bdj20qo0f0diu.jpg" alt="mutliplatform"></p>
<p>æ¥ç€éœ€è¦å†æ–°å»ºä¸€ä¸ª widge çš„ targetï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©åŸºäº iOS é¡¹ç›®çš„ widgetï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanjpejj20ka0em76h.jpg" alt="01-xcode-widget"></p>
<p>ç”Ÿæˆä¹‹åï¼Œè®©æˆ‘ä»¬é…ä¸Š <code>Hello Widgetï¼</code>ï¼Œå¹¶åœ¨ <code>PreviewProvider</code> å¤„æ·»åŠ ä¸Š <strong><a href="https://developer.apple.com/documentation/widgetkit/widgetpreviewcontext">WidgetPreviewContext</a></strong>ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#268bd2">struct</span> <span style="color:#268bd2">CafeineDrinkWidget_Previews</span>: PreviewProvider {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    <span style="color:#268bd2">static</span> <span style="color:#268bd2">var</span> <span style="color:#268bd2">previews</span>: some View {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>        Group {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>            CafeineDrinkWidgetEntryView(entry: .preivewEntry, data: .previewData)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>        .previewContext(WidgetPreviewContext(family: .systemSmall))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span>}
</code></pre></div><p>æˆ‘ä»¬ç›®å‰æä¾›çš„ widget æ ·å¼åˆ†ä¸ºä¸‰ç§ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#268bd2">public</span> <span style="color:#268bd2">enum</span> <span style="color:#268bd2">WidgetFamily</span> : <span style="color:#b58900">Int</span>, <span style="color:#b58900">RawRepresentable</span>, CustomDebugStringConvertible, CustomStringConvertible {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>    <span style="color:#586e75">/// A small widget.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    <span style="color:#719e07">case</span> systemSmall
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>    <span style="color:#586e75">/// A medium-sized widget.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>    <span style="color:#719e07">case</span> systemMedium
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>    <span style="color:#586e75">/// A large widget.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>    <span style="color:#719e07">case</span> systemLarge
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>}
</code></pre></div><p>è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹æœ€ç®€ç‰ˆæœ¬çš„ widget ğŸ˜„ ã€‚</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aannd6ej216u0rs1c4.jpg" alt="02-HelloWidget"></p>
<h2 id="data-configuration">Data Configuration</h2>
<p>æ¥ç€ï¼Œè®©æˆ‘ä»¬æŠŠ <code>CaffeineWidgetData</code>  é…ç½®èµ·æ¥ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#268bd2">struct</span> <span style="color:#268bd2">CaffeineWidgetData</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">drinkName</span>: <span style="color:#b58900">String</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">drinkData</span>: Date
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">caffeineAmount</span>: Measurement&lt;UnitMass&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span style="color:#268bd2">extension</span> <span style="color:#268bd2">CaffeineWidgetData</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">static</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">previewData</span> = CaffeineWidgetData(
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>        drinkName: <span style="color:#2aa198">&#34;Cappuccino&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>        drinkData: Date().advanced(by: <span style="color:#719e07">-</span><span style="color:#2aa198">60</span> <span style="color:#719e07">*</span> <span style="color:#2aa198">29</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">5</span>),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>        caffeineAmount: Measurement&lt;UnitMass&gt;(value: <span style="color:#2aa198">56.23</span>, unit: .milligrams)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>}
</code></pre></div><p>æ¥ç€å†åŠ ä¸Šç®€å•çš„ View  <code>LazyVStack</code> å’Œ <code>Text</code> æ¥æ‰¿è½½æˆ‘ä»¬æ–°æ·»çš„æ•°æ®ã€‚æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanormsj211n0sjh5a.jpg" alt="04-previewData"></p>
<p>æœ‰äº†åŸºæœ¬ç»“æ„åï¼Œæˆ‘ä»¬å†ä¸°å¯Œä¸€ä¸‹ã€‚å…ˆåŠ ç‚¹èƒŒæ™¯è‰²ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ <code>ZStack</code> æ¥åŒ…è£…ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#268bd2">var</span> <span style="color:#268bd2">body</span>: some View {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>  	ZStack {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>      Color(<span style="color:#2aa198">&#34;cappuccino&#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>      LazyVStack(alignment: .leading) { ... }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>   }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>}
</code></pre></div><p>è®©æˆ‘ä»¬æŠŠ <code>drinkName</code> å’Œ <code>drinkDate</code> ä¹Ÿå±•ç¤ºå‡ºæ¥ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>Text(<span style="color:#2aa198">&#34;</span><span style="color:#2aa198">\(</span>data.drinkName<span style="color:#2aa198">)</span><span style="color:#2aa198"> â˜•ï¸&#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>   .font(.body)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>   .bold()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>   .foregroundColor(Color(<span style="color:#2aa198">&#34;milk&#34;</span>))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span><span style="color:#586e75">/// NOTE: *New* Date provider API</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span>Text(<span style="color:#2aa198">&#34;</span><span style="color:#2aa198">\(</span>data.drinkDate, style: .relative<span style="color:#2aa198">)</span><span style="color:#2aa198"> ago&#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span>   .font(.caption)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span>   .foregroundColor(Color(<span style="color:#2aa198">&#34;milk&#34;</span>))
</code></pre></div><p>æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† SwiftUI æ–°å‡ºçš„ <code>DateStyle</code> API</p>
<h3 id="datestyle">DateStyle</h3>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#268bd2">public</span> <span style="color:#268bd2">struct</span> <span style="color:#268bd2">DateStyle</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>    <span style="color:#586e75">/// A style displaying only the time component for a date.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    <span style="color:#586e75">/// Example output: </span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>    <span style="color:#586e75">///     11:23PM</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">static</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">time</span>: Text.DateStyle
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>    <span style="color:#586e75">/// A style displaying a date.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>    <span style="color:#586e75">/// Example output:</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>    <span style="color:#586e75">///     June 3, 2019</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">static</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">date</span>: Text.DateStyle
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    <span style="color:#586e75">/// A style displaying a date as relative to now.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>    <span style="color:#586e75">/// Example output:</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>    <span style="color:#586e75">///     2 hours, 23 minutes</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>    <span style="color:#586e75">///     1 year, 1 month</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">static</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">relative</span>: Text.DateStyle
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>    <span style="color:#586e75">/// A style displaying a date as offset from now.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>    <span style="color:#586e75">/// Example output:</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>    <span style="color:#586e75">///     +2 hours</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span>    <span style="color:#586e75">///     -3 months</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">static</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">offset</span>: Text.DateStyle
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25</span>    <span style="color:#586e75">/// A style displaying a date as timer counting from now.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26</span>    <span style="color:#586e75">/// Example output:</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27</span>    <span style="color:#586e75">///    2:32</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28</span>    <span style="color:#586e75">///    36:59:01</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">static</span> <span style="color:#268bd2">let</span> <span style="color:#268bd2">timer</span>: Text.DateStyle
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30</span>}
</code></pre></div><p>å†æ¥çœ‹ä¸€çœ¼æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanrer2j214m0rr4ep.jpg" alt="05-allDataUsage"></p>
<h2 id="restructuring">Restructuring</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¨å¾®è°ƒæ•´ä¸€ä¸‹ä»£ç ç»“æ„ï¼Œå°†å†…éƒ¨çš„ä¸¤ä¸ª <code>LazyStack</code> æŠ½ç¦»æˆå•ç‹¬çš„ Viewã€‚è¿™é‡Œå¯ä»¥ç”¨ Xcode çš„ <code>Extra Subview</code> æ¥å¸®æˆ‘ä»¬å®Œæˆå·¥ä½œï¼Œæˆ‘ä»¬åªéœ€å°† ğŸ–±ï¸ç§»åŠ¨åˆ° <code>LazyStack</code> ä¸Šï¼ŒæŒ‰ä½ <code>Command</code> å¹¶ç‚¹å‡» ğŸ–±ï¸ å°±å¯ä»¥å¼¹å‡ºå¦‚ä¸‹çª—å£ï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanun9zj20j20ib11g.jpg" alt="06-Extrack Subview"></p>
<p>è°ƒæ•´åï¼Œæˆ‘ä»¬çš„ç»“æ„å°±æ¸…çˆ½å¾ˆå¤šäº†ï¼š</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#268bd2">var</span> <span style="color:#268bd2">body</span>: some View {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>    ZStack {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>        Color(<span style="color:#2aa198">&#34;cappuccino&#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>        LazyVStack(alignment: .leading) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>            CaffineAmountView(data: data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>            Spacer()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>            DrinkView(data: data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>        .padding(.all)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>}
</code></pre></div><p>è®°å¾—ä¸ºæˆ‘ä»¬æ–°åŠ çš„ <code>CaffineAmountView</code> å’Œ <code>DrinkView</code> åŠ ä¸Š <code>CaffeineWidgetData</code> æ•°æ®ã€‚</p>
<h3 id="caffineamountview">CaffineAmountView</h3>
<p>æœ€åå†ç”¨æˆ‘ä»¬çš„å¦ä¸€ä¸ªæ–°çš„ API æ¥ä¿®æ”¹ <code>CaffineAmountView</code>ã€‚</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#268bd2">var</span> <span style="color:#268bd2">body</span>: some View {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>    LazyHStack {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>        VStack(alignment: .leading) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>            Text(<span style="color:#2aa198">&#34;Caffeine&#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>                .font(.body)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>                .foregroundColor(Color(<span style="color:#2aa198">&#34;espresso&#34;</span>))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>                .bold()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>            Text(Formatter.measurement.string(from: data.caffeineAmount))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>                .font(.title)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>                .bold()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>                .foregroundColor(Color(<span style="color:#2aa198">&#34;espresso&#34;</span>))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>                .minimumScaleFactor(<span style="color:#2aa198">0.8</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>        Spacer(minLength: <span style="color:#2aa198">0</span>) <span style="color:#586e75">// #1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>    .padding(.all, <span style="color:#2aa198">8.0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>    .background(ContainerRelativeShape().fill(Color(<span style="color:#2aa198">&#34;latte&#34;</span>))) <span style="color:#586e75">// #2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>}
</code></pre></div><p>å…ˆæ³¨æ„ä¸€ä¸‹ï¼Œè¿™é‡Œå°† <code>Spacer</code> çš„ minLength è®¾ç½®ä¸º 0 æ˜¯ä¸ºäº†å°†æ•´ä¸ª AmountView çš„å†…å®¹æ’‘æ»¡ã€‚ç„¶ååœ¨ç¼–å†™ Demo çš„è¿‡ç¨‹ä¸­å‘ç°æ–°å¢çš„ <code>LazyVStack</code> åœ¨ layout è¿‡ç¨‹ä¸­æœ‰ bugï¼Œæ— æ³•æ­£å¸¸å°†å†…å®¹æ’‘æ»¡ï¼Œæ‰€ä»¥è¿™é‡Œæ”¹å›ç”¨ <code>VStack</code>ã€‚</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanvwo6j21ds0n00wu.jpg" alt="07-LazyVStack"></p>
<h3 id="containerrelativeshape">ContainerRelativeShape</h3>
<blockquote>
<p>A shape that is replaced by an inset version of the current container shape. If no container shape was defined, is replaced by a rectangle.</p>
</blockquote>
<p>ç”±äºä¸åŒå¤§å°çš„è®¾å¤‡å¯èƒ½å¯¹å…¶ widget ä½¿ç”¨ä¸åŒçš„åŠå¾„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æƒ…å†µå˜å¾—æœ‰äº›éº»çƒ¦ã€‚ è€Œæ–°å‡ºçš„ <code>ContainerRelativeShape</code> æ˜¯ä¸€ç§æ–°çš„å½¢çŠ¶ç±»å‹ï¼Œå®ƒå°†é‡‡ç”¨æœ€æ¥è¿‘çˆ¶è§†å›¾å®¹å™¨å½¢çŠ¶çš„è·¯å¾„ï¼Œå¹¶æ ¹æ®å½¢çŠ¶çš„ä½ç½®ä½¿ç”¨é€‚å½“çš„å€’è§’åŠå¾„ã€‚</p>
<p>é€šè¿‡æ·»åŠ  <code>ContainerRelativeShape</code>ï¼Œæˆ‘ä»¬çš„ AmountView ä¼šé‡‡ç”¨ä¸ç³»ç»Ÿä¸º widget å®šä¹‰å®¹å™¨å½¢çŠ¶ç›¸åŒçš„åŒå¿ƒçš„è§’åŠå¾„ã€‚å¦‚æœæ›´æ”¹ä¸» <code>VStack</code> çš„ padding çš„å€¼ï¼Œåˆ™ AmountView çš„å€’è§’å°†å‘ç”Ÿå˜åŒ–ï¼Œä»¥ä½¿å›´ç»•å®ƒçš„è¾¹æ¡†åœ¨æ‹è§’æ›²çº¿å‘¨å›´ä¿æŒæ’å®šçš„åšåº¦ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¿®æ”¹å®¹å™¨çš„ padding ä¸º 10ï¼ŒAmountView çš„å€’è§’å˜åŒ–æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanx48dj20n5081god.jpg" alt="08-adjust padding"></p>
<p>##PreviewProvider</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹ Widge åœ¨ä¸åŒåœºæ™¯ä¸‹çš„å®é™…æ•ˆæœã€‚</p>
<h3 id="darkmode">DarkMode</h3>
<p>é¦–å…ˆæ˜¯ <code>.envrioment</code> ä¿®é¥°ç¬¦åœ¨ DarkMode ä¸‹çš„æ•ˆæœï¼Œè¿™ä¸ªå…¶å®å®Œå…¨ç”±æˆ‘ä»¬é…ç½®çš„ ColorSet æ¥ä¿è¯çš„ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/8157560cly1gg7aao0f8cj20jt05fgmr.jpg" alt="10-colorSet"></p>
<p>ç„¶åæˆ‘ä»¬åœ¨ View ä¸Šæ·»åŠ  <code>colorScheme</code> çš„ç¯å¢ƒé…ç½®å°±å¯ä»¥äº†ã€‚</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>CafeineDrinkWidgetEntryView(entry: .preivewEntry, data: .previewData)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>    .previewContext(WidgetPreviewContext(family: .systemSmall))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    .environment(\.colorScheme, .dark)
</code></pre></div><h3 id="sizecategory">SizeCategory</h3>
<p>å¯é€šè¿‡  <code>.envrioment</code> ä¿®é¥°ç¬¦çš„  <code>sizeCategory</code> æ¥æ§åˆ¶ widget çš„å­—ä½“å¤§å°ã€‚</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>CafeineDrinkWidgetEntryView(entry: .preivewEntry, data: .previewData)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>    .previewContext(WidgetPreviewContext(family: .systemSmall))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>    .environment(\.sizeCategory, .extraExtraLarge)
</code></pre></div><p>è®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿™ä¸¤ç§æƒ…å†µçš„æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanyx89j218p0sjh3g.jpg" alt="09-previewSize"></p>
<h3 id="placeholder">Placeholder</h3>
<p>ä»Šå¹´çš„ SwiftUI è¿˜æä¾›äº†ä¸€ä¸ªç‰¹åˆ«æ£’çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>isPlaceholder</code> ä¿®é¥°ç¬¦æ¥è®¾ç½®éª¨æ¶å›¾ã€‚</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanzjjqj20v006jach.jpg" alt="11-isPlaceholder"></p>
<p><code>.isPlaceholder</code>  è¿˜æ”¯æŒå¯¹å•ä¸ªè§†å›¾çš„æ§åˆ¶ç­‰ã€‚ä¸è¿‡ï¼Œç›®å‰çš„ Xcode 12 Beta1 ç‰ˆæœ¬è¿˜æ— æ³•ä½¿ç”¨ ğŸ˜…ã€‚å¤§å®¶å°±ä¸”çœ‹ä¸€ä¸‹å§ã€‚</p>
<h3 id="widgetfamily">WidgetFamily</h3>
<p>æœ€åä¸€ä¸ªé¢„è§ˆï¼Œè®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹å¦‚ä½•é€šè¿‡ <code>WidgetFamily</code> æ¥æ§åˆ¶ Widge çš„å±•ç¤ºã€‚</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#268bd2">struct</span> <span style="color:#268bd2">CafeineDrinkWidgetEntryView</span> : View {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>    ...    
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>    @Environment(\.widgetFamily) <span style="color:#268bd2">var</span> <span style="color:#268bd2">widgetFamily</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>    <span style="color:#268bd2">var</span> <span style="color:#268bd2">body</span>: some View {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>        ZStack {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>            ...
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>            LazyHStack {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>                LazyVStack(alignment: .leading) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>                    CaffineAmountView(data: data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>                    Spacer()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>                    DrinkView(data: data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>                }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>                .padding(.all, <span style="color:#2aa198">10</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>                <span style="color:#719e07">if</span> widgetFamily == .systemMedium, <span style="color:#268bd2">let</span> <span style="color:#268bd2">phoneName</span> = data.phoneName {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>                    Image(phoneName).resizable()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>                }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>            }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span>}
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬åœ¨ <code>widgetFamily</code> ä¸º <code>.systemMedium</code> çš„æƒ…å†µä¸‹ï¼Œä¸ºå…¶æ·»åŠ äº†ä¸€å¼ æœ€åå–è¿‡çš„å’–å•¡çš„å›¾ç‰‡ã€‚</p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aao6wfij20y3077n1x.jpg" alt="12-widgetFamily"></p>
<h1 id="new-apis">New APIs</h1>
<p>æœ€åä¸€èŠ‚ï¼Œå†æ¥å›é¡¾ä¸€ä¸‹æˆ‘ä»¬ä½¿ç”¨åˆ°çš„æ–° API</p>
<p><strong>DateStyle</strong></p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aanu0ekj20nc0d5jxx.jpg" alt="06-dateTeimAPI"></p>
<p><strong>ContainerRelativeShape</strong></p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg7aant2jjj20nc0d5q6i.jpg" alt="05-relativeShape"></p>
<p><strong>æ–‡æœ«ç¦åˆ©</strong></p>
<p>ç”±äºæœ¬æ–‡çš„ Session å¹¶æœªæä¾›ç›¸åº”çš„ SampleCodeã€‚æœ¬äººåœ¨æ–‡ç« æ’°å†™çš„è¿‡ç¨‹ä¸­ï¼Œé¡ºå¸¦å†™äº†å®Œæ•´çš„ Demoï¼Œå¦‚æœ‰éœ€è¦çš„åŒå­¦å¯ä»¥è‡ªå–ï¼š<a href="https://github.com/looseyi/WWDC20-100330-SampleCode.git">Github</a>ã€‚âš ï¸  æ³¨æ„ï¼Œåœ¨æœ‰çš„ macOS ç³»ç»Ÿä¸Šé€šè¿‡ Xcode 12 Beta è¿è¡Œåå¯èƒ½æ— æ³•åœ¨æ¨¡æ‹Ÿå™¨ä¸ŠæŸ¥çœ‹ widgetï¼Œä¸è¿‡åœ¨ Xcode çš„ sidebar é¢„è§ˆï¼Œå®Œæ•´æ•ˆæœå»ºè®®åœ¨çœŸå®è®¾å¤‡ä½“éªŒã€‚</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gg89svkl11g20cg0qo1l3.gif" alt="widget.gif"></p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<ul>
<li>è‹¹æœé€šè¿‡ç‹¬ç«‹çš„ taget å°† <code>Widget</code> ä¸ä¸»é¡¹ç›®éš”ç¦»å¼€æ¥ï¼Œå¾ˆå¥½çš„æ”¯æŒäº† Widget å‘å±•ï¼Œå› ä¸ºä¸ä¼šæœ‰å†å²åŒ…è¢±ã€‚</li>
<li><code>Widge</code> çš„å®šä½è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„ï¼Œç”¨äºå¼¥è¡¥å®¿ä¸»åº”ç”¨ç¨‹åºæ— æ³•åŠæ—¶å±•ç¤ºç”¨æˆ·æ‰€å…³å¿ƒçš„æ•°æ®ï¼Œè€Œ Widget æ­£å¥½å¾ˆé€‚åˆå±•ç¤ºã€‚</li>
<li>é…åˆè¶Šæ¥è¶Šä¸°å¯Œçš„ SwiftUI çš„åŠŸèƒ½å’Œæ€§èƒ½çš„æå‡ï¼ŒWidget ä¹Ÿèƒ½å¤Ÿä¸ç°æœ‰çš„è‹¹æœç”Ÿæ€æ›´å¥½çš„é›†æˆã€‚</li>
<li>Widget ä¹Ÿä½¿å¾—è‹¹æœåœ¨ iOS å’Œ macOS ç”Ÿæ€çš„èåˆäº†ä¹Ÿæ›´è¿›äº†ä¸€æ­¥ã€‚</li>
</ul>
<h1 id="çŸ¥è¯†ç‚¹é—®é¢˜æ¢³ç†">çŸ¥è¯†ç‚¹é—®é¢˜æ¢³ç†</h1>
<ol>
<li><code>Widget</code> æ”¯æŒåœ¨æ‰€æœ‰çš„è‹¹æœç³»ç»Ÿä¸­ä½¿ç”¨å— ï¼Ÿ</li>
<li>æœ¬æ–‡çš„ç¤ºä¾‹ä¸­ä½¿ç”¨äº†å“ªå‡ ç§æ–° APIï¼Œè¯•ç€æè¿°å®ƒä»¬çš„åŠŸèƒ½ ï¼Ÿ</li>
<li>æœ¬æ–‡çš„ç¤ºä¾‹å±•ç¤ºäº†å‡ ç§ç¯å¢ƒæè¿°ç¬¦ ?</li>
</ol>
<h1 id="widges-ç›¸å…³è§†é¢‘">Widges ç›¸å…³è§†é¢‘</h1>
<ul>
<li><a href="https://developer.apple.com/videos/play/wwdc2020/10103">Design great widgets</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2020/10028">Meet WidgetKit</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2020/10034">Widgets Code-along, part 1: The adventure begins</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2020/10035">Widgets Code-along, part 2: Alternate timelines</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2020/10036">Widgets Code-along, part 3: Advancing timelines</a></li>
</ul>
</section>

  
  
  <footer class="post-tags">
     
    <a href="https://looseyi.github.io/tags/ios">iOS&#39;</a>
     
    <a href="https://looseyi.github.io/tags/wwdc">WWDC&#39;</a>
     
    <a href="https://looseyi.github.io/tags/swiftui">SwiftUI</a>
    
  </footer>
  

  
  
  
  <nav class="post-nav">
    
    <a class="prev" href="https://looseyi.github.io/post/sourcecode-cocoapods/02-cocoapods-corecomponents/"><span>â†</span><span>2. æ•´ä½“æŠŠæ¡ CocoaPods æ ¸å¿ƒç»„ä»¶</span></a>
     
    <a class="next" href="https://looseyi.github.io/post/wwdc/wwdc20/wwdc20-session-10041/"><span>WWDC20 - What&#39;s new in SwiftUI</span><span>â†’</span></a>
    
  </nav>
  

  
  
</article>


			

  

  
    <script src="https://utteranc.es/client.js"
            repo="looseyi/looseyi.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

		</main>

    <footer class="footer">
  <p>&copy; 2021 <a href="https://looseyi.github.io/">Aha Edmond</a></p>
  <p>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugoï¸ï¸</a>ï¸</p>
  <p>
    <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper 5.1</a>
  </p>
</footer>

		


  </body>
</html>
