<!DOCTYPE html>















<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>Cocoa 文档注释与生成 - Aha Edmond</title>

  
  
  <meta name="description" content="Cocoa 代码注释与文档生成 本文的文档规范部分的内容参考自：NSHipster 的 Swift Documentation 作者 &amp; Nate Cook 本文知识目录 背景 曾经以为好的代码是可以自我解释不需要注" />
  <meta name="author" content="土土Edmond木" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://looseyi.github.io/app.min.css" />

  

  
  <link rel="preload" as="image" href="https://looseyi.github.io/theme.png" />

  
  <link rel="preload" as="image" href="https://looseyi.github.io/twitter.svg" />
  
  <link rel="preload" as="image" href="https://looseyi.github.io/github.svg" />
  

  
  <link rel="icon" href="https://looseyi.github.io/favicon.ico" />
  <link rel="apple-touch-icon" href="https://looseyi.github.io/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.82.1" />

  
  
  <link
    rel="alternate"
    type="application/rss&#43;xml"
    href="https://looseyi.github.io/post/tool/cocoa-documentation-1/index.xml"
    title="Aha Edmond"
  />
  

  
  
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-62789092-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
  
  <meta property="og:title" content="Cocoa 文档注释与生成" />
<meta property="og:description" content="Cocoa 代码注释与文档生成 本文的文档规范部分的内容参考自：NSHipster 的 Swift Documentation 作者 &amp; Nate Cook 本文知识目录 背景 曾经以为好的代码是可以自我解释不需要注" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://looseyi.github.io/post/tool/cocoa-documentation-1/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-06-14T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2020-06-14T00:00:00&#43;00:00" />


  
  <meta itemprop="name" content="Cocoa 文档注释与生成">
<meta itemprop="description" content="Cocoa 代码注释与文档生成 本文的文档规范部分的内容参考自：NSHipster 的 Swift Documentation 作者 &amp; Nate Cook 本文知识目录 背景 曾经以为好的代码是可以自我解释不需要注"><meta itemprop="datePublished" content="2020-06-14T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-14T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="3458">
<meta itemprop="keywords" content="iOS&#39;,Document,SourceKit,Jazzy," />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Cocoa 文档注释与生成"/>
<meta name="twitter:description" content="Cocoa 代码注释与文档生成 本文的文档规范部分的内容参考自：NSHipster 的 Swift Documentation 作者 &amp; Nate Cook 本文知识目录 背景 曾经以为好的代码是可以自我解释不需要注"/>

  
  
</head>


  <body class="not-ready" data-menu="true">
    <header class="header">
  
  <p class="logo">
    <a class="site-name" href="https://looseyi.github.io/">Aha Edmond</a><a class="btn-dark"></a>
  </p>
  

  <script>
    let bodyClx = document.body.classList;
    let btnDark = document.querySelector('.btn-dark');
    let sysDark = window.matchMedia('(prefers-color-scheme: dark)');
    let darkVal = localStorage.getItem('dark');

    let setDark = (isDark) => {
      bodyClx[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark ? 'yes' : 'no');
    };

    setDark(darkVal ? darkVal === 'yes' : sysDark.matches);
    requestAnimationFrame(() => bodyClx.remove('not-ready'));

    btnDark.addEventListener('click', () => setDark(!bodyClx.contains('dark')));
    sysDark.addEventListener('change', (event) => setDark(event.matches));
  </script>

  
  
  <nav class="menu">
    
    <a class="" href="/">Home</a>
    
  </nav>
  

  
  <nav class="social">
    
    <a
      class="twitter"
      style="--url: url(./twitter.svg)"
      href="https://twitter.com/looseyi"
      target="_blank"
    ></a>
    
    <a
      class="github"
      style="--url: url(./github.svg)"
      href="https://github.com/looseyi"
      target="_blank"
    ></a>
    
  </nav>
  
</header>


    <main class="main">
			

<article class="post-single">
  <header class="post-title">
    <p>
      <time>2020-06-14</time>
      
      <span>土土Edmond木</span>
      
    </p>
    <h1>Cocoa 文档注释与生成</h1>
  </header>
  <section class="post-content"><p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfsyp7xbikj20ow0bi46r.jpg" alt="Cocoa Documentation.png"></p>
<h1 id="cocoa-代码注释与文档生成">Cocoa 代码注释与文档生成</h1>
<blockquote>
<p>本文的文档规范部分的内容参考自：NSHipster 的 <a href="https://nshipster.cn/swift-documentation/">Swift Documentation</a> 作者 &amp; <a href="https://nshipster.cn/authors/nate-cook/">Nate Cook</a></p>
</blockquote>
<h1 id="本文知识目录">本文知识目录</h1>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfsxkabh1yj21i61bc7ag.jpg" alt="Cocoa 代码注释与文档生成目录.png"></p>
<h1 id="背景">背景</h1>
<p>曾经以为好的代码是可以自我解释不需要注释的，后来发现不是这样的。就算是个人项目，代码注释的重要性也是毋庸置疑。毕竟人的记忆只有七秒！</p>
<p>一个开发者是从其他语言转到 Cocoa 开发，大都会被它冗长的代码所 😺 到，Objective-C 的冗长使得其代码就是有效的自我说明。有如 <code>stringByAppendingPathExtension:</code> 以及参数的显式类型，这样的方法一般不会给人留下太多的想象空间。不过 Swift 就有所不同了。</p>
<p>但即使是自我说明的代码也可以通过说明文档加以改进，而且只需少量的努力就可以给别人产生显著的好处。</p>
<h1 id="文档生成工具">文档生成工具</h1>
<p>每一个现代编程语言都有注释：由一个特殊的字符序列标记的非可执行的自然语言，如 <code>//</code>，<code>/**/</code>，<code>＃</code> 和 <code>--</code>。使用特殊格式注释的文档，提供了代码的辅助解释和上下文，可以用编译工具提取和解析。</p>
<p>从 00 年代早期，<a href="https://developer.apple.com/library/mac/documentation/DeveloperTools/Conceptual/HeaderDoc/intro/intro.html#//apple_ref/doc/uid/TP40001215-CH345-SW1">Headerdoc</a> 就一直作为苹果首选的文档标准。从 Perl 脚本解析勉强的 <a href="https://en.wikipedia.org/wiki/Javadoc">Javadoc</a> 注释作为出发点，Headerdoc 最终成为了苹果在线文档及 Xcode 中的开发者文档的后台引擎。</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfrubouxgmj21hs0me4jw.jpg" alt="HeadDoc风格的文档"></p>
<p>随着 WWDC 2014 的发布，开发者文档被翻修并重新设计，包含了 Swift 和 Objective-C 的支持。</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfru9nqjdmj21j60pk7gx.jpg" alt="Apple 新风格的文档"></p>
<h3 id="appledochttpsgithubcomtomazappledoc"><a href="https://github.com/tomaz/appledoc">appledoc</a></h3>
<blockquote>
<p>类似 Javadoc， appledoc 能够从 <code>.h</code> 文件生成 HTML 和 Xcode 兼容的 <code>.docset</code> 文档。</p>
</blockquote>
<h3 id="doxygenhttpwwwstacknldimitridoxygen"><a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a></h3>
<blockquote>
<p>主要用于 C++，但一般在 iOS / OS X 的开发者社区不很受待见。</p>
</blockquote>
<h3 id="jazzyhttpsgithubcomrealmjazzy"><a href="https://github.com/realm/jazzy">Jazzy</a></h3>
<blockquote>
<p>支持 Objective-C 和 Swift，通过对 Clang 和 SourceKit 的 hook 方式获取代码 AST 树来精准获取注释。</p>
</blockquote>
<h1 id="cocoa-文档规范">Cocoa 文档规范</h1>
<p>就像许多苹果开发者生态系统一样，Swift 改变了一切。 本着 “<strong>与时俱进，与新共存</strong>” 的精神，Xcode 7 将Headerdoc 换成了粉丝最喜欢的 Markdown，尤其是 Swift 风格的 Markdown。</p>
<p>Xcode 中生成 document 模版的快捷键为 <strong>option(alt) + cmd + /</strong></p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfrz872it4j20d00g77hi.jpg" alt="Xcode 添加注释的快捷方式"></p>
<p>下面为最基本的 Cocoa 注释。</p>
<p>Objective-C 风格的注释：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#586e75">/// Let&#39;s say something
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span style="color:#586e75">///
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#586e75">/// @param bar I&#39;m paramter
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span style="color:#586e75">/// @return I&#39;m return value
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#586e75"></span>- (<span style="color:#dc322f">id</span>)<span style="color:#268bd2">fooBar:</span>(NSString <span style="color:#719e07">*</span>)<span style="color:#268bd2">bar</span>;
</code></pre></div><p>Swift 风格的代码注释：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#586e75">///</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span style="color:#586e75">/// Let&#39;s say something</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#586e75">///</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span style="color:#586e75">/// - Parameter bar: I&#39;m paramter</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#586e75">/// - Returns: I&#39;m return value</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span><span style="color:#268bd2">func</span> <span style="color:#268bd2">foo</span>(bar: <span style="color:#b58900">String</span>) -&gt; <span style="color:#b58900">AnyObject</span> { ... }
</code></pre></div><p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfs1q96waej20em07w0vz.jpg" alt="Swift 注释的提示效果"></p>
<h2 id="基本标记规则">基本标记规则</h2>
<p>文档注释通过使用 <code>/** ... */</code> 的多行注释或 <code>///...</code> 的单行注释来进行区分。在注释块里面的内容支持标准的 Markdown 语法，规则如下：</p>
<ul>
<li>段落由空行分隔</li>
<li>无序列表可由多个项目符号字符组成：<code>-</code>、<code>+</code>、 <code>*</code>、 <code>•</code></li>
<li>有序列表使用阿拉伯数字 <code>1，2，3，…</code> 后跟一个点符  <code>1.</code>  或右括号 <code>1)</code> 或两侧括号括起来 <code>(1)</code></li>
<li>标题使用 <code>#</code> 作为前缀，内容的分割线使用 <code>---</code></li>
<li>支持 <a href="https://daringfireball.net/projects/markdown/syntax#link">链接</a> 和 <a href="https://daringfireball.net/projects/markdown/syntax#img">图片</a>，会将基于Web的图像下载并直接在 Xcode 中显示</li>
</ul>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>/**
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span> Hello, documentation
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span> [<span style="color:#268bd2">土土Edmond木</span>](https://looseyi.github.io/)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span> # Lists
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span> You can apply <span style="font-style:italic">*italic*</span>, <span style="font-weight:bold">**bold**</span>, or <span style="color:#586e75">`code`</span> inline styles.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span> ---
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span> # Unordered Lists
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span> <span style="color:#719e07">-</span> Lists are great,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span> <span style="color:#719e07">-</span> but perhaps don&#39;t nest;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span> <span style="color:#719e07">-</span> Sub-list formatting...
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span> <span style="color:#719e07">-</span> ...isn&#39;t the best.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span> ---
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span> ## Ordered Lists
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span> <span style="color:#719e07">1.</span> Ordered lists, too,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span> <span style="color:#719e07">2.</span> for things that are sorted;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span> <span style="color:#719e07">3.</span> Arabic numerals
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span> <span style="color:#719e07">4.</span> are the only kind supported.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span> */
</code></pre></div><p>预览效果</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfs7fph5hxj20em0dkgui.jpg" alt="Markdown 注释的样式效果.png"></p>
<h2 id="摘要和说明">摘要和说明</h2>
<p>文档注释的开头部分将成为 “摘要“ <code>Summary</code>，余下的其他内容将一起归入 “讨论” <code>Discussion</code>。</p>
<blockquote>
<p>如果文档注释以段落以外的任何内容开头，则其所有内容都将放入讨论中。</p>
</blockquote>
<h2 id="参数和返回值">参数和返回值</h2>
<p>Xcode可以识别一些特殊字段，并使它们与符号描述分开。 当将 <strong>Parameter</strong>，<strong>Return</strong> 和 <strong>Throws</strong> 置为项目符号项后带上冒号 <code>:</code> 时，它们会在快捷提示和帮助文档中与 <code>讨论</code> 分段。</p>
<ul>
<li><strong>Parameters:</strong>  行首以 <code>- Parameter &lt;param name&gt;:</code> 开始并带上参数的描述</li>
<li><strong>Return values:</strong> 行首以 <code>Returns:</code> 开始并带上返回值的描述</li>
<li><strong>Thrown errors:</strong> 行首以 <code>Throws:</code> 并配上可能抛出的异常描述，由于 Swift 不会对超出错误一致性的抛出错误进行类型检查，因此正确记录错误尤为重要。</li>
</ul>
<p>本文我们基本以 Swift 代码作为示例。如果代码是 Objective-C，格式稍微有一些区别。</p>
<p>以返回值的关键字为例。在 Swift 中，我们编写 <code>-return :</code>，但在 Objective-C 中，您将编写 <code>@return</code>。 有关更多详细信息，请参见 Apple 的 <a href="https://developer.apple.com/library/archive/documentation/DeveloperTools/Conceptual/HeaderDoc/tags/tags.html">HeaderDoc 用户指南</a>。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>/**
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span> Creates a personalized greeting for a recipient.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span> <span style="color:#719e07">-</span> Parameter recipient: The person being greeted.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span> <span style="color:#719e07">-</span> Throws: <span style="color:#586e75">`MyError.invalidRecipient`</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>           if <span style="color:#586e75">`recipient`</span> is &#34;Derek&#34;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>           (he knows what he did).
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span> <span style="color:#719e07">-</span> Returns: A new string saying hello to <span style="color:#586e75">`recipient`</span>.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span> */
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>func greeting(to recipient: String) throws -&gt; String {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    guard recipient != &#34;Derek&#34; else {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>        throw MyError.invalidRecipient
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>    return &#34;Greetings, \(recipient)!&#34;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>}
</code></pre></div><p>如果你的方法有多个参数的话，可以通过 <code>Parameters:</code> 字段加上无序列表符来注释：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>/// Returns the magnitude of a vector in three dimensions
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>/// from the given components.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>///
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>/// - Parameters:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>///     - x: The <span style="font-style:italic">*x*</span> component of the vector.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>///     - y: The <span style="font-style:italic">*y*</span> component of the vector.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>///     - z: The <span style="font-style:italic">*z*</span> component of the vector.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>func magnitude3D(x: Double, y: Double, z: Double) -&gt; Double {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>    return sqrt(pow(x, 2) + pow(y, 2) + pow(z, 2))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>}
</code></pre></div><h2 id="其他字段">其他字段</h2>
<p>除了上面的常用字段，Swift 风格的 Markdown 还定义了其他几个字段：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Algorithm/Safety Information</strong></td>
<td>Precondition Postcondition Requires Invariant Complexity Important Warning</td>
</tr>
<tr>
<td><strong>Metadata</strong></td>
<td>Author Authors Copyright Date SeeAlso Since Version</td>
</tr>
<tr>
<td><strong>General Notes &amp; Exhortations</strong></td>
<td>Attention Bug Experiment Note Remark ToDo</td>
</tr>
</tbody>
</table>
<p>可以按以下方式松散地组织它们，每个字段在快速帮助中均显示为粗体标题，后跟一段文本：</p>
<blockquote>
<p><strong>- 字段名:</strong>
字段描述的内容从下一行开始</p>
</blockquote>
<h2 id="代码块">代码块</h2>
<p>文档注释也支持嵌入 Code 来演示功能的正确用法或实现细节。插入代码可以通过添加三个反引号 <code>(```)</code> :</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>/**
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span> The area of the <span style="color:#586e75">`Shape`</span> instance.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span> Computation depends on the shape of the instance.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span> For a triangle, <span style="color:#586e75">`area`</span> is equivalent to:
</code></pre></div><p>let height = triangle.calculateHeight()
let area = triangle.base * height / 2</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>*/
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>var area: CGFloat { get }
</code></pre></div><p>或者三个反波浪号 <code>(~~~)</code>:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span>/**
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span> The perimeter of the <span style="color:#586e75">`Shape`</span> instance.
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span> Computation depends on the shape of the instance, and is
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span> equivalent to:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span> ~~~
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span> // Circles:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span> let perimeter = circle.radius <span style="font-style:italic">* 2 *</span> Float.pi
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span> // Other shapes:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span> let perimeter = shape.sides.map { $0.length }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span> .reduce(0, +)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span> ~~~
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span> */
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>var perimeter: CGFloat { get }
</code></pre></div><h2 id="mark--todo--fixme">MARK / TODO / FIXME</h2>
<p>在 Objective-C 中，我们通过预处理器指令 <a href="https://nshipster.com/pragma/">#pragma mark</a> 将功能划分为有意义的，易于导航的部分。 在 Swift中，可以通过注释 <code>// MARK：</code> 实现相同的功能。以及我们常用的其他 tag：</p>
<ul>
<li><code>// MARK:</code></li>
<li><code>// TODO:</code></li>
<li><code>// FIXME:</code></li>
<li><code>// NOTE:</code></li>
</ul>
<p>为了展示这些新标签的实际作用，下面介绍了如何扩展 Bicycle 类以采用 CustomStringConvertible 协议并实现 description属性。</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfs9j3pvf6j20cy0eggta.jpg" alt="Mark 分割效果"></p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#586e75">// </span><span style="color:#719e07">MARK:</span><span style="color:#586e75"> - CustomStringConvertible</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span style="color:#268bd2">extension</span> <span style="color:#268bd2">Bicycle</span>: CustomStringConvertible {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    <span style="color:#268bd2">public</span> <span style="color:#268bd2">var</span> <span style="color:#268bd2">description</span>: <span style="color:#b58900">String</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>        <span style="color:#268bd2">var</span> <span style="color:#268bd2">descriptors</span>: [<span style="color:#b58900">String</span>] = []
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>        ...
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>       
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>        <span style="color:#586e75">// </span><span style="color:#719e07">FIXME:</span><span style="color:#586e75"> Use a distance formatter</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>        descriptors.append(<span style="color:#2aa198">&#34;...&#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>        <span style="color:#586e75">// </span><span style="color:#719e07">TODO:</span><span style="color:#586e75"> Allow bikes to be named?</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>        <span style="color:#719e07">return</span> descriptors.joined(separator: <span style="color:#2aa198">&#34;, &#34;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>}
</code></pre></div><h2 id="给一个类添加完整的注释">给一个类添加完整的注释</h2>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#586e75">/// 🚲 A two-wheeled, human-powered mode of transportation.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span style="color:#268bd2">class</span> <span style="color:#268bd2">Bicycle</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>    <span style="color:#586e75">/// Frame and construction style.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span>    <span style="color:#268bd2">enum</span> <span style="color:#268bd2">Style</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>        <span style="color:#586e75">/// A style for streets or trails.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span>        <span style="color:#719e07">case</span> road
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>        <span style="color:#586e75">/// A style for long journeys.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span>        <span style="color:#719e07">case</span> touring
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span>        <span style="color:#586e75">/// A style for casual trips around town.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span>        <span style="color:#719e07">case</span> cruiser
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span>        <span style="color:#586e75">/// A style for general-purpose transportation.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span>        <span style="color:#719e07">case</span> hybrid
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span>    <span style="color:#586e75">/// The style of the bicycle.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span>    <span style="color:#268bd2">let</span> <span style="color:#268bd2">style</span>: Style
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span>    <span style="color:#586e75">/// The size of the frame, in centimeters.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span>    <span style="color:#268bd2">let</span> <span style="color:#268bd2">frameSize</span>: <span style="color:#b58900">Int</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span>    <span style="color:#586e75">/// The number of trips traveled by the bicycle.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25</span>    <span style="color:#268bd2">private</span>(<span style="color:#268bd2">set</span>) <span style="color:#268bd2">var</span> <span style="color:#268bd2">numberOfTrips</span>: <span style="color:#b58900">Int</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27</span>    <span style="color:#586e75">/// The total distance traveled by the bicycle, in meters.</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28</span>    <span style="color:#268bd2">private</span>(<span style="color:#268bd2">set</span>) <span style="color:#268bd2">var</span> <span style="color:#268bd2">distanceTraveled</span>: <span style="color:#b58900">Double</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30</span>    <span style="color:#586e75">/**
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31</span><span style="color:#586e75">     Take a bike out for a spin.
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32</span><span style="color:#586e75">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33</span><span style="color:#586e75">     Calling this method increments the `numberOfTrips`
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34</span><span style="color:#586e75">     and increases `distanceTraveled` by the value of `meters`.
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35</span><span style="color:#586e75">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36</span><span style="color:#586e75">     - Parameter meters: The distance to travel in meters.
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37</span><span style="color:#586e75">     - Precondition: `meters` must be greater than 0.
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38</span><span style="color:#586e75">     */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39</span>    <span style="color:#268bd2">func</span> <span style="color:#268bd2">travel</span>(<span style="color:#268bd2">distance</span> meters: <span style="color:#b58900">Double</span>) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40</span>        <span style="color:#268bd2">precondition</span>(meters <span style="color:#719e07">&gt;</span> <span style="color:#2aa198">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41</span>        distanceTraveled <span style="color:#719e07">+=</span> meters
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42</span>        numberOfTrips <span style="color:#719e07">+=</span> <span style="color:#2aa198">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44</span>}
</code></pre></div><p>完整的 🚴‍♀️ 文档，<a href="https://swift-documentation-example.nshipster.com/classes/bicycle">戳这里</a>。</p>
<h1 id="library-项目文档的生成">Library 项目文档的生成</h1>
<p>接下来我们一起来实践一下，如何使用 Jazzy 来生成项目的 API 文档。</p>
<p>首先，Jazzy 支持对 Swift 和 Objective-C 的 Xcode project 项目生成文档，对于 SwiftPM 也是近期刚支持的。我们会逐步进阶，从一个独立的 Swift 和 ObjC 项目，再到混编项目，最后是基于 CocoaPods 来生成私有库文档。</p>
<h2 id="为-swift-项目生成文档">为 Swift 项目生成文档</h2>
<p>Jazzy 默认是解析 Swift 代码注释来生成文档。我们先尝试为 <a href="https://github.com/Alamofire/Alamofire">Alamofire</a> 生成 HTML 文档。</p>
<p>首先需要安装 Jazzy，Jazzy 是一个 Gem 依赖库，更多了解 Gem 请看 <a href="https://juejin.im/post/5ee1a589518825431e03f758#heading-18">《版本管理工具及 Ruby 工具链环境》</a>。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span style="color:#719e07">[</span>sudo<span style="color:#719e07">]</span> gem install jazzy
</code></pre></div><p>不过由于 Alamofire 在项目的 Gemfile 中已经添加了 Jazzy 的依赖，所以我们这里使用 <code>bundle install</code> 来安装。最后通过 <code>-o Docs</code> 将文档输出到项目的根目录，完整命令如下：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>$ git clone https://github.com/Alamofire/Alamofire
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>$ <span style="color:#b58900">cd</span> Alamofire
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>$ bundle install
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>$ bundle <span style="color:#b58900">exec</span> jazzy -o Docs
</code></pre></div><p>生成文档的效果：</p>
<p><img src="https://gitee.com/looseyi/blog-image/raw/master/uPic/8157560cly1gfssabvz0pj20zw0fiwi2.jpg" alt="Jazzy 生成文档效果.png"></p>
<p>Jazzy 默认会读取项目中的 <code>README.md</code>、<code>README.markdown</code>  、<code>README.mdown</code>  、<code>README</code> 文档内容作为 index page 的内容。</p>
<p>对于 Swift module 项目，Jazzy 在生成文档时会自动寻找项目根目录下的 project，然后执行 <code>xcodebuild</code>  或 <code>swift build</code> 来生成 <a href="https://clang.llvm.org/docs/IntroductionToTheClangAST.html">Clang AST</a>，再通过 <a href="https://www.jpsim.com/uncovering-sourcekit">SourceKit</a> 来生成注释文档。</p>
<p>对于支持 SwiftPM 的项目，我们也可以通过指定 <code>--wift-build-tool</code> 来生成文档：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>$ bundle <span style="color:#b58900">exec</span> jazzy <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span style="color:#cb4b16"></span>  -o Docs <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#cb4b16"></span>  --module Alamofire <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span style="color:#cb4b16"></span>  --swift-build-tool spm <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#cb4b16"></span>  --build-tool-arguments -Xswiftc,-swift-version,-Xswiftc,5
</code></pre></div><h2 id="为-objective-c-项目生成文档">为 Objective-C 项目生成文档</h2>
<p>Objective-C 项目文档的生成需要多几个参数，这里我们以 AFNetworking 为例。</p>
<p>clone 代码到本地后需要修改 AFNetworking 目录下的 Gemfile 添加 Jazzy 依赖：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>source <span style="color:#2aa198">&#34;https://rubygems.org&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span>gem <span style="color:#2aa198">&#34;fastlane&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span>gem <span style="color:#2aa198">&#34;cocoapods&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span>gem <span style="color:#2aa198">&#34;jazzy&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span>gem <span style="color:#2aa198">&#34;xcode-install&#34;</span>
</code></pre></div><p>接着安装 jazzy 生成 docs 文档：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span>$ bundle install
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span>$ bundle <span style="color:#b58900">exec</span> jazzy <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span style="color:#cb4b16"></span>  -o Docs <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span style="color:#cb4b16"></span>  --objc <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span style="color:#cb4b16"></span>  --umbrella-header AFNetworking/AFNetworking.h <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span><span style="color:#cb4b16"></span>  --framework-root AFNetworking
</code></pre></div><ul>
<li>&ndash;objc：指定为 Objective-C 生成文档</li>
<li>&ndash;umbrella-header：指定 Objective-C framework 的 <code>Umbrella header</code> 路径</li>
<li>&ndash;framework-root: 指定 Objective-C framework 路径</li>
</ul>
<h2 id="为-swift--objective-c-混编项目生成文档">为 Swift &amp; Objective-C 混编项目生成文档</h2>
<p>Jazzy 对于混编项目的支持目前还不是很友好。想要生成混编代码注释的文档，我们需要事先生成 <code>json</code> 格式的中间产物，再传递给 Jazzy 来生成完整的文档。这里需要用到工具 <strong><a href="https://github.com/jpsim/SourceKitten">sourcekitten</a></strong>。</p>
<p>先看基于混编项目生成文档的方式：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span style="color:#586e75"># 输出 SourceKitter 的 Swift 文档数据到 json</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span>sourcekitten doc -- -workspace MyProject.xcworkspace -scheme MyScheme &gt; swiftDoc.json
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span style="color:#586e75"># 输出 SourceKitter 的 Objective-C 文档数据到 json</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span>sourcekitten doc --objc <span style="color:#719e07">$(</span><span style="color:#b58900">pwd</span><span style="color:#719e07">)</span>/MyProject/MyProject.h <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span style="color:#cb4b16"></span>      -- -x objective-c  -isysroot <span style="color:#719e07">$(</span>xcrun --show-sdk-path --sdk iphonesimulator<span style="color:#719e07">)</span> <span style="color:#cb4b16">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span style="color:#cb4b16"></span>      -I <span style="color:#719e07">$(</span><span style="color:#b58900">pwd</span><span style="color:#719e07">)</span> -fmodules &gt; objcDoc.json
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span style="color:#586e75"># 合并 swift 和 Objective-C json 并输出文档</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span>jazzy --sourcekitten-sourcefile swiftDoc.json,objcDoc.json
</code></pre></div><p>当然 Jazzy 还有其他很多使用参数这里就不一一介绍了，大家感兴趣的可以查看官方文档或者使用 <code>jazzy --help &lt;command&gt;</code> 。</p>
<h1 id="总结">总结</h1>
<ul>
<li>本文介绍了如何按照 Apple 的标准写出 Swift 风格的代码注释，以及基于 Jazzy 来生成简单的 HTML 文档。</li>
<li>也许大家平时不太注意文档的规范和书写，但是当我们需要查看系统 framework 或者是开源的 API 时总觉得注释里的说明不够详尽，所以从现在开始写好文档吧。</li>
<li>好文档不仅可以可以记录代码的实现思路和原理，同时也能够更好的将核心思想传递给接手的人，更好的维护。</li>
<li>基本上优秀的开源库都要非常详尽的说明文档，比例 Alamofire，<a href="https://github.com/Tencent/QMUI_iOS">QMUI</a> 都很值得学习。</li>
</ul>
<h1 id="知识点问题梳理">知识点问题梳理</h1>
<p>这里罗列了四个问题用来考察你是否已经掌握了这篇文章，如果没有建议你加入<strong>收藏</strong>再次阅读：</p>
<ol>
<li>
<p><strong>Objective-C 和 Swift 代码注释的区别？</strong></p>
</li>
<li>
<p><strong>对包含多个参数的方法注释与单个参数对方法有什么区别？</strong></p>
</li>
<li>
<p><strong>代码注释都支持哪些 Markdown 格式？</strong></p>
</li>
<li>
<p><strong>Jazzy 支持几种模式的文档生成？</strong></p>
</li>
</ol>
</section>

  
  
  <footer class="post-tags">
     
    <a href="https://looseyi.github.io/tags/ios">iOS&#39;</a>
     
    <a href="https://looseyi.github.io/tags/document">Document</a>
     
    <a href="https://looseyi.github.io/tags/sourcekit">SourceKit</a>
     
    <a href="https://looseyi.github.io/tags/jazzy">Jazzy</a>
    
  </footer>
  

  
  
  
  <nav class="post-nav">
    
    <a class="prev" href="https://looseyi.github.io/post/notes/01-gcd/"><span>←</span><span>📒个人备忘 - 队列、GCD、线程基础</span></a>
     
    <a class="next" href="https://looseyi.github.io/post/sourcecode-cocoapods/01-cocoapods-toolchains/"><span>1. 版本管理工具及 Ruby 工具链环境</span><span>→</span></a>
    
  </nav>
  

  
  
</article>


			

  

  
    <script src="https://utteranc.es/client.js"
            repo="looseyi/looseyi.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

		</main>

    <footer class="footer">
  <p>&copy; 2021 <a href="https://looseyi.github.io/">Aha Edmond</a></p>
  <p>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</p>
  <p>
    <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper 5.1</a>
  </p>
</footer>

		


  </body>
</html>
